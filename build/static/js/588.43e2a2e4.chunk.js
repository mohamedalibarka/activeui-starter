(self.webpackChunk_activeviam_activeui=self.webpackChunk_activeviam_activeui||[]).push([[588,503],{25503:(e,o,n)=>{"use strict";n.r(o),n.d(o,{default:()=>l});var r=n(21127),t=n(7655),i=(n(47564),n(48105),n(85939),n(22856),n(69442),n(55188),n(41305),n(10703),n(32362),n(6381),n(14314),n(44741));self.MonacoEnvironment={getWorker:function(){return Promise.resolve({postMessage:()=>{},terminate:()=>{}})}};const a={automaticLayout:!0,minimap:{enabled:!1},lineDecorationsWidth:0,lineNumbersMinChars:0,glyphMargin:!1,fontSize:12};var s={name:"1htlkxu-BaseEditor",styles:"width:100%;height:100%;;label:BaseEditor;"};const d=({value:e="",options:o={},language:n,theme:d,hoverProvider:l,completionItemProvider:u,documentFormattingEditProvider:c,deltaDecorations:m,onChange:g=(()=>{})},f)=>{const p=(0,r.useRef)(null),v=(0,r.useRef)(),h=(0,r.useRef)({}),b=(0,r.useRef)({...a,...o}),M=(0,r.useRef)([]);return(0,r.useEffect)((()=>{const e=h.current;return p.current&&(v.current=i.j6.create(p.current,b.current),f&&("function"==typeof f?f(v.current):f.current=v.current)),()=>{[...Object.values(e),v.current].forEach((e=>{null==e||e.dispose()}))}}),[f]),(0,r.useEffect)((()=>{d&&(i.j6.defineTheme(d.id,d.data),i.j6.setTheme(d.id))}),[d]),(0,r.useEffect)((()=>{const e=h.current;if(n){var o;i.Mj.register({id:n.id}),h.current.languageConfiguration=i.Mj.setLanguageConfiguration(n.id,n.configuration),h.current.monarchTokensProvider=i.Mj.setMonarchTokensProvider(n.id,n.monarchLanguage);const e=null===(o=v.current)||void 0===o?void 0:o.getModel();e&&i.j6.setModelLanguage(e,n.id)}return()=>{var o,n;null===(o=e.languageConfiguration)||void 0===o||o.dispose(),null===(n=e.monarchTokensProvider)||void 0===n||n.dispose()}}),[n]),(0,r.useEffect)((()=>{const e=h.current;return n&&u&&(h.current.completionItemProvider=i.Mj.registerCompletionItemProvider(n.id,u)),()=>{var o;null===(o=e.completionItemProvider)||void 0===o||o.dispose()}}),[n,u]),(0,r.useEffect)((()=>{const e=h.current;return n&&l&&(h.current.hoverProvider=i.Mj.registerHoverProvider(n.id,l)),()=>{var o;null===(o=e.hoverProvider)||void 0===o||o.dispose()}}),[n,l]),(0,r.useEffect)((()=>{const e=h.current;return n&&c&&(h.current.documentFormattingEditProvider=i.Mj.registerDocumentFormattingEditProvider(n.id,c)),()=>{var o;null===(o=e.documentFormattingEditProvider)||void 0===o||o.dispose()}}),[n,c]),(0,r.useEffect)((()=>{var e,o,n,r;m?(M.current=null!==(e=null===(o=v.current)||void 0===o?void 0:o.deltaDecorations(M.current,m))&&void 0!==e?e:[],null===(n=v.current)||void 0===n||n.updateOptions({glyphMargin:!0})):null===(r=v.current)||void 0===r||r.updateOptions({glyphMargin:!1})}),[m]),(0,r.useEffect)((()=>{var e;null===(e=v.current)||void 0===e||e.updateOptions({...a,...o})}),[o]),(0,r.useEffect)((()=>{var o;if((null===(o=v.current)||void 0===o?void 0:o.getValue())!==e){var n,r;const o=null===(n=v.current)||void 0===n?void 0:n.getPosition();var t;if(null===(r=v.current)||void 0===r||r.setValue(e),o)null===(t=v.current)||void 0===t||t.setPosition(o)}}),[e]),(0,r.useEffect)((()=>{var e;const o=h.current;return h.current.contentChangeListener=null===(e=v.current)||void 0===e?void 0:e.onDidChangeModelContent((e=>{var o;g((null===(o=v.current)||void 0===o?void 0:o.getValue())||"",e)})),()=>{var e;null===(e=o.contentChangeListener)||void 0===e||e.dispose()}}),[g]),(0,t.tZ)("div",{ref:p,css:s})};const l=(0,r.forwardRef)(d)},81588:(e,o,n)=>{"use strict";n.r(o),n.d(o,{default:()=>ee});var r=n(58527),t=n.n(r),i=n(21127),a=n(7655),s=n(54788),d=n(8492),l=n(83122),u=(n(47564),n(48105),n(85939),n(22856),n(69442),n(55188),n(41305),n(10703),n(32362),n(6381),n(14314),n(25503)),c=n(44741),m=n(35676),g=n.n(m),f=n(16760),p=n.n(f),v=n(56974),h=n.n(v),b=n(55281),M=n.n(b);const k={id:"mdx",monarchLanguage:{defaultToken:"",tokenPostfix:".mdx",ignoreCase:!0,brackets:[{open:"{",close:"}",token:"delimiter.curly"},{open:"[",close:"]",token:"delimiter.square"},{close:"(",open:")",token:"delimiter.parenthesis"}],functionKeywords:l.Qp,kpiKeywords:l.kh,argumentKeywords:l.z4,memberPropertyKeywords:l.vV,axisKeywords:l.OD,cellPropertyKeywords:l.ql,booleanOperatorKeywords:l.wQ,booleanKeywords:l.c9,structuralKeywords:l.S3,tokenizer:{root:[{include:"@comments"},{include:"@whiteSpace"},{include:"@numbers"},{include:"@strings"},{include:"@delimitedIdentifier"},[/[\w@]+/,{cases:{"@structuralKeywords":"keyword.structural","@booleanKeywords":"boolean","@booleanOperatorKeywords":"keyword.booleanOperator","@axisKeywords":"keyword.axis","@cellPropertyKeywords":"keyword.cellProperty","@functionKeywords":"keyword.function","@kpiKeywords":"keyword.kpi","@memberPropertyKeywords":"keyword.memberProperty","@argumentKeywords":"keyword.argument","@default":"identifier.regular"}}],{include:"@operators"}],comments:[[/(^|[^\\:])\/\/.*/,"comment"],[/(^|[^\\:])-{2}.*/,"comment"],[/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,"comment"]],whiteSpace:[[/\s+/,"white"]],numbers:[[/\d*\.\d+(E(\+|-)?\d+)?/,"number"],[/\d+/,"number"]],operators:[[/\+|\/|\*|\^|-/,"operator"],[/>=|<=|<>|=|>|</,"operator"],[/:|&/,"operator"]],delimitedIdentifier:[[/\[([^\]]{0,100})\]/,"identifier.delimited"]],strings:[[/'/,{token:"string",next:"@string"}],[/"/,{token:"string.double",next:"@stringDouble"}]],string:[[/[^']+/,"string"],[/''/,"string"],[/'/,{token:"string",next:"@pop"}]],stringDouble:[[/[^"]+/,"string.double"],[/""/,"string.double"],[/"/,{token:"string.double",next:"@pop"}]]}},configuration:{comments:{lineComment:"//",blockComment:["/*","*/"]},brackets:[["{","}"],["[","]"],["(",")"]],autoClosingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"}],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"}],onEnterRules:[{beforeText:/.*\bSELECT\s*$/,action:{indentAction:1}},{beforeText:/.*\bFROM\s*$/,action:{indentAction:1}}]}},y={provideDocumentFormattingEdits:e=>{try{return[{range:e.getFullModelRange(),text:(0,l.Pz)((0,l.Qc)(e.getValue()),{indent:!0})}]}catch{}}},x=e=>(e=>{const o=e.matchAll(/Member (?<calculatedMemberUniqueName>.*) AS/gim),n=new Set;for(const t of o){var r;const e=null==t||null===(r=t.groups)||void 0===r?void 0:r.calculatedMemberUniqueName;e&&n.add(e)}return Array.from(n)})(e).map((e=>{var o;const[{groups:n={}}={}]=e.matchAll(/(\[Measures]).(?:(\[(?<quotedMeasure>.*)\])|(?<unquotedMeasure>\w*))/gi);return null!==(o=n.unquotedMeasure)&&void 0!==o?o:n.quotedMeasure})).filter(Boolean),w=(e,o,n=0)=>e.getValueInRange({startColumn:0,endColumn:o.column,startLineNumber:o.lineNumber-n,endLineNumber:o.lineNumber}),$=({label:e={name:""},insertText:o,kind:n=c.Mj.CompletionItemKind.Constant,...r})=>({label:e,kind:n,insertText:void 0!==o?o:"string"==typeof e?e:e.name,range:void 0,...r}),N=e=>g()(p()(null==e?void 0:e.catalogs,"cubes")),C=()=>l.vV.map((e=>$({label:e,kind:c.Mj.CompletionItemKind.Property,sortText:"zzz"}))),E={getSuggestions:({position:e,textModel:o,cube:n,dataModel:r,formatMessage:t})=>{const i=w(o,e);if(i.toLowerCase().includes("from "))return[];const a=h()(i.match(/\[[^\]]*\]?(?:\.(?:\[[^\]]*\]?|\w*))*$/gim));if(a){const[i,s,d,l]=(a||"").split(".").map((e=>e.replace(/\[([^\]]*)\]?/,"$1"))),u=n?[n]:N(r);if("Measures"===i)return(({cubes:e,textModel:o,formatMessage:n})=>e.reduce(((e,{name:o,measures:n})=>(e.push(...(null==n?void 0:n.map((({name:e})=>$({label:{name:e,qualifier:o}}))))||[]),e)),x(o.getValue()).map(((e="")=>$({label:{name:e,qualifier:n({id:"aui.mdxEditor.autoCompletion.calculatedMeasure"})}})))||[]))({cubes:u,textModel:o,formatMessage:t});if(void 0===s)return(({cubes:e})=>[$({kind:c.Mj.CompletionItemKind.Unit,label:"Measures",preselect:!0}),...e.reduce(((e,{name:o,dimensions:n})=>(e.push(...n.map((({name:e})=>$({label:{name:e,qualifier:o}})))),e)),[])])({cubes:u});if(void 0===d)return(({cubes:e,dimensionName:o})=>e.reduce(((e,{name:n,dimensions:r})=>{var t,i;return e.push(...(null===(t=r.find((({name:e})=>e===o)))||void 0===t||null===(i=t.hierarchies)||void 0===i?void 0:i.map((({name:e})=>$({label:{name:e,qualifier:`${n}/${o}`}}))))||[]),e}),[]))({cubes:u,dimensionName:i});if(void 0===l)return(({cubes:e,dimensionName:o,hierarchyName:n})=>[$({label:{name:"AllMember",qualifier:`${o}/${n}`},preselect:!0}),...e.reduce(((e,{name:r,dimensions:t})=>{var i,a,s;return e.push(...(null===(i=t.find((({name:e})=>e===o)))||void 0===i||null===(a=i.hierarchies.find((({name:e})=>e===n)))||void 0===a||null===(s=a.levels)||void 0===s?void 0:s.map((({name:e})=>$({label:{name:e,qualifier:`${r}/${o}/${n}`}}))))||[]),e}),[])])({cubes:u,dimensionName:i,hierarchyName:s});const m="ALL"===d?[$({label:{name:"AllMember",qualifier:`${i}/${s}`},preselect:!0})]:[];return m.push(...C({position:e,textModel:o,cube:n,dataModel:r,formatMessage:t})),m}return[]}},P={getSuggestions:({position:e,textModel:o,cube:n,dataModel:r})=>{var t;return null!==w(o,e,1).match(new RegExp(`(${l.kh.join("|")})[(][^)]*`,"i"))?null===(t=n?[n]:N(r))||void 0===t?void 0:t.reduce(((e,{name:o,kpis:n})=>(e.push(...(null==n?void 0:n.map((({name:e})=>$({kind:c.Mj.CompletionItemKind.Event,label:{name:e,qualifier:o}}))))||[]),e)),[]):[]}},j={getSuggestions:({position:e,textModel:o})=>null!==w(o,e).match(/(\bON\b\s*)([\w]*)$/i)?l.OD.map((e=>$({label:e}))):[]},A={getSuggestions:({position:e,textModel:o,cube:n,dataModel:r})=>{var t;const i=w(o,e).match(/(FROM\s+)(\[)([^\]]*)(?<CB>\])*/i);return null!==i&&void 0===(null===(t=i.groups)||void 0===t?void 0:t.CB)?(n?[n]:N(r)).map((({name:e})=>$({kind:c.Mj.CompletionItemKind.Interface,label:e}))):[]}},I=()=>[...[...l.Qp,...l.kh,...l.vV,...l.z4].map((e=>$({kind:c.Mj.CompletionItemKind.Function,label:e}))),...[...l.OD].map((e=>$({kind:c.Mj.CompletionItemKind.EnumMember,label:e}))),...[...l.c9,...l.wQ].map((e=>$({kind:c.Mj.CompletionItemKind.Operator,label:e}))),...[...l.S3,...l.ql].map((e=>$({kind:c.Mj.CompletionItemKind.Keyword,label:e})))],K=({position:e,textModel:o,cube:n,dataModel:r,formatMessage:t})=>{const i=[A,j,E,P].reduce(((i,{getSuggestions:a})=>[...i,...a({position:e,textModel:o,cube:n,dataModel:r,formatMessage:t})]),[]);return i.length>0?i:I({position:e,textModel:o,cube:n,dataModel:r,formatMessage:t})},L={id:"dark-theme",data:{base:"vs-dark",inherit:!0,rules:[{token:"identifier.delimited",foreground:"#9f9f9f"},{token:"identifier.regular",foreground:"#9d9d9d"},{token:"keyword.structural",foreground:"#c792ea"},{token:"keyword.axis",foreground:"#c792ea"},{token:"keyword.function",foreground:"#82aaff"},{token:"keyword.kpi",foreground:"#82aaff"},{token:"keyword.memberProperty",foreground:"#82aaff"},{token:"keyword.argument",foreground:"#addb67"},{token:"keyword.booleanOperator",foreground:"#397800"},{token:"keyword.cellProperty",foreground:"#397800"},{token:"boolean",foreground:"#addb67"},{token:"number",foreground:"#ff901e"},{token:"operator",foreground:"#ff8000"},{token:"comment",foreground:"#aa5500"}],colors:{"editor.foreground":"#d6deeb","editor.background":"#011627","editor.selectionBackground":"#5f7e9779","editor.lineHighlightBackground":"#010E17","editorCursor.foreground":"#80a4c2","editorWhitespace.foreground":"#2e2040","editorIndentGuide.background":"#5e81ce52","editor.selectionHighlightBorder":"#122d42"}}},q={id:"light-theme",data:{base:"vs",inherit:!0,rules:[{token:"identifier.delimited",foreground:"#1b1a1a"},{token:"identifier.regular",foreground:"#5a5a5a"},{token:"keyword.structural",foreground:"#3399ff"},{token:"keyword.axis",foreground:"#3399ff"},{token:"keyword.function",foreground:"#59bb00"},{token:"keyword.kpi",foreground:"#59bb00"},{token:"keyword.memberProperty",foreground:"#59bb00"},{token:"keyword.argument",foreground:"#ff901e"},{token:"keyword.booleaOperator",foreground:"#397800"},{token:"keyword.cellProperty",foreground:"#397800"},{token:"boolean",foreground:"#ff901e"},{token:"number",foreground:"#ff901e"},{token:"operator",foreground:"#ff8000"},{token:"comment",foreground:"#aa5500"}],colors:{}}},D=e=>g()(p()(null==e?void 0:e.catalogs,"cubes")),O=e=>g()(p()(e,"measures")),R=e=>g()(p()(e,"dimensions")),V=(e,o)=>{var n,r;return null!==(n=null===(r=M()(R(e),["name",o]))||void 0===r?void 0:r.hierarchies)&&void 0!==n?n:[]},F="red",S="#faad14",z=({classNames:e={},textModel:o,offset:n,options:r={},length:t,type:i})=>{const a={error:{color:F,className:e.line_error,position:4,zIndex:10},warning:{color:S,className:e.line_warning,position:1,zIndex:1}};return{range:c.e6.fromPositions(o.getPositionAt(n),o.getPositionAt(n+t)),options:{overviewRuler:{color:a[i].color,position:a[i].position},inlineClassName:a[i].className,zIndex:a[i].zIndex,...r}}},T=(e="",o=[])=>o.reduce(((o,n)=>{const r=((e="",o="")=>{if(e.length<2||o.length<2)return 0;const n=new Map;for(let a=0;a<e.length-1;a++){var r;const o=e.substr(a,2);n.set(o,null!==(r=n.get(o))&&void 0!==r?r:1)}let t=0;for(let a=0;a<o.length-1;a++){var i;const e=o.substr(a,2),r=null!==(i=n.get(e))&&void 0!==i?i:0;r>0&&(n.set(e,r-1),t++)}return 2*t/(e.length+o.length-2)})(n,e);return o.coefficient<r?{hint:n,coefficient:r}:o}),{hint:"",coefficient:0}),_=({header:e="",body:o="",hint:n={coefficient:0,hint:""},formatMessage:r=(()=>"")})=>{const t=[{value:`#### **${e}**`}];return n.coefficient>.65&&t.push({value:`${r({id:"aui.mdxEditor.hover.didYouMean"})}: ***${n.hint}?***`,isTrusted:!0}),t.push({value:o}),t},H={getDecorations:({textModel:e,mdxErrorDetails:o,classNames:n,formatMessage:r=(()=>"")})=>{var t,i;if(!o)return[];const a=((e,o)=>{const n=c.j6.createModel(e);try{if(o.from.ch>=0){const e=n.getValueInRange(new c.e6(o.from.line+1,o.from.ch,o.to.line+1,n.getLineLastNonWhitespaceColumn(o.to.line+1))),r=e.length-e.trimLeft().length;return new c.e6(o.from.line+1,o.from.ch+r,o.to.line+1,o.to.ch+r)}return new c.e6(o.from.line,n.getLineLastNonWhitespaceColumn(o.from.line),o.to.line+1,n.getLineFirstNonWhitespaceColumn(o.to.line+1)+o.text.length)}catch{return new c.e6(0,0,0,0)}})(e.getValue(),o),s=e.getOffsetAt(a.getStartPosition());return[z({type:"error",classNames:n,textModel:e,offset:s,length:e.getOffsetAt(a.getEndPosition())-s,options:{hoverMessage:_({header:`${r({id:"aui.mdxEditor.hover.errorOnLine"})} ***${a.startLineNumber}***`,body:`${r({id:"aui.mdxEditor.hover.availableOptionsAre"})} : \n${null===(t=o.expected)||void 0===t?void 0:t.map((e=>`- ${e}`)).join("\n")}`,hint:T(o.text,null===(i=o.expected)||void 0===i?void 0:i.map((e=>e.replace(/'/g,"")))),formatMessage:r})}})]}},B={getDecorations:({textModel:e,classNames:o,formatMessage:n=(()=>"")})=>{const r=e.getValue().matchAll(/(?<function>\w+)\(/gi),t=[...l.Qp,...l.kh],i=[];for(const l of r){var a,s,d,u,c;if(l.index&&!["FROM",...t].map((e=>e.toLowerCase())).includes((null!==(a=null===(s=l.groups)||void 0===s?void 0:s.function)&&void 0!==a?a:"").toLowerCase()))i.push(z({type:"warning",classNames:o,textModel:e,offset:l.index,length:null===(d=l[0])||void 0===d?void 0:d.length,options:{hoverMessage:_({header:`${n({id:"aui.mdxEditor.hover.unkownFunction"})} ***${null===(u=l.groups)||void 0===u?void 0:u.function}***`,body:`${n({id:"aui.mdxEditor.hover.availableFunctionsAre"})} : \n${t.map((e=>`- ${e}`)).join("\n")}`,hint:T(null===(c=l.groups)||void 0===c?void 0:c.function,t),formatMessage:n})}}))}return i}},Q={getDecorations:({textModel:e,cube:o,dataModel:n,classNames:r,formatMessage:t=(()=>"")})=>{if(!n&&!o)return[];const i=e.getValue().matchAll(/(?:FROM\s+)(?:([(])|\[([^\]]*)\]?|(\w*))/gi),a=o?[o.name]:D(n).map((({name:e})=>e)),s=[];for(const u of i){var d;if("("===u[1])continue;const o=null!==(d=u[2])&&void 0!==d?d:u[3];var l;if(u.index&&!a.includes(o))s.push(z({type:"error",classNames:r,textModel:e,offset:u.index,length:null===(l=u[0])||void 0===l?void 0:l.length,options:{hoverMessage:_({header:`${t({id:"aui.mdxEditor.hover.cubeNotFound"})} ***${o}***`,body:`${t({id:"aui.mdxEditor.hover.availableCubesAre"})} : \n${a.map((e=>`- ${e}`)).join("\n")}`,hint:T(o,a),formatMessage:t})}}))}return s}},W={getDecorations:({textModel:e,cube:o,dataModel:n,classNames:r,formatMessage:t=(()=>"")})=>{if(!n&&!o)return[];const i=e.getValue().matchAll(/(\[(?<dimensionName>[^\]]*)\]?)(?<dotAfterDimension>\s*\.\s*)?((?:(\[(?<quotedHierarchy>[^\]]*)\]?)|(?<unquotedHierarchy>\w*)))?(?<dotAfterHierarchy>\s*\.\s*)?(?<memberPath>.*)?/gim),a=[];for(const u of i){var s;if(!u.index)continue;const{dimensionName:i,dotAfterDimension:c,quotedHierarchy:m,unquotedHierarchy:g}=u.groups||{},f=e.getPositionAt(u.index);if("Measures"===i||["from ","member "].some((o=>e.getValueInRange({startLineNumber:f.lineNumber,endLineNumber:f.lineNumber,startColumn:0,endColumn:f.column}).toLowerCase().includes(o))))continue;const p=o?[o]:D(n),v=R(p).map((({name:e})=>e));if(!v.includes(i)){var d;a.push(z({type:"warning",classNames:r,textModel:e,offset:u.index,length:null===(d=u[0])||void 0===d?void 0:d.length,options:{hoverMessage:_({header:`${t({id:"aui.mdxEditor.hover.dimensionNotFound"})} ***${i}***`,body:`${t({id:"aui.mdxEditor.hover.availableDimensionsAre"})} : \n${v.map((e=>`- ${e}`)).join("\n")}`,hint:T(i,v),formatMessage:t})}}));continue}const h=null!==(s=m||g)&&void 0!==s?s:"";if(c){const o=V(p,i).map((({name:e})=>e));if(!o.includes(h)){var l;a.push(z({type:"warning",classNames:r,textModel:e,offset:u.index,length:null===(l=u[0])||void 0===l?void 0:l.length,options:{hoverMessage:_({header:t({id:"aui.mdxEditor.hover.hierarchyWarning"},{dimensionName:i,hierarchyName:h}),body:`${t({id:"aui.mdxEditor.hover.availableHierarchiesAre"},{dimensionName:i,hierarchyName:h})} : \n${o.map((e=>`- ${e}`)).join("\n")}`,hint:T(h,o),formatMessage:t})}}));continue}}}return a}},Z={getDecorations:({textModel:e,dataModel:o,classNames:n,formatMessage:r=(()=>"")})=>{var t;if(!o)return[];const i=e.getValue().matchAll(new RegExp(`(${l.kh.join("|")})[(][^]*?"(?<kpi>.*)"[^]*?[)]`,"gim")),a=null===(t=D(o))||void 0===t?void 0:t.reduce(((e,{kpis:o})=>(e.push(...(null==o?void 0:o.map((({name:e})=>e)))||[]),e)),[]),s=[];for(const l of i){var d,u;const o=null!==(d=null===(u=l.groups)||void 0===u?void 0:u.kpi)&&void 0!==d?d:"";var c;if(l.index&&!a.includes(o))s.push(z({type:"warning",classNames:n,textModel:e,offset:l.index,length:null===(c=l[0])||void 0===c?void 0:c.length,options:{hoverMessage:_({header:`${r({id:"aui.mdxEditor.hover.invalidKPI"})} ***${o}***`,body:`${r({id:"aui.mdxEditor.hover.availableKPIsAre"})} : \n${a.map((e=>`- ${e}`)).join("\n")}`,hint:T(o,a),formatMessage:r})}}))}return s}},U={getDecorations:({textModel:e,cube:o,dataModel:n,classNames:r,formatMessage:t=(()=>"")})=>{if(!n)return[];const i=e.getValue().matchAll(/(\[Measures]).(?:(\[(?<quotedMeasure>.*)\])|(?<unquotedMeasure>\w*))/gi),a=o?[o]:D(n),s=[...O(a).map((({name:e})=>e)),...x(e.getValue())],d=[];for(const c of i){var l;const{groups:{unquotedMeasure:o,quotedMeasure:n}={unquotedMeasure:void 0,quotedMeasure:void 0}}=c||{},i=null!==(l=null!=o?o:n)&&void 0!==l?l:" ";if(c.index&&!s.includes(i)){var u;const o=e.getPositionAt(c.index);if(["from","member"].some((n=>e.getValueInRange({startLineNumber:o.lineNumber,endLineNumber:o.lineNumber,startColumn:0,endColumn:o.column}).toLowerCase().includes(n))))continue;d.push(z({type:"warning",classNames:r,textModel:e,offset:c.index,length:null===(u=c[0])||void 0===u?void 0:u.length,options:{hoverMessage:_({header:`${t({id:"aui.mdxEditor.hover.invalidMeasure"})} **${i}**`,body:`${t({id:"aui.mdxEditor.hover.availableMeasuresAre"})} : \n${s.map((e=>`- ${e}`)).join("\n")}`,hint:T(i,s),formatMessage:t})}}))}}return d}},G=e=>`background-image:\n     linear-gradient(45deg, transparent 65%, ${e} 80%, transparent 90%),\n     linear-gradient(135deg, transparent 5%, ${e} 15%, transparent 25%),\n     linear-gradient(135deg, transparent 45%, ${e} 55%, transparent 65%),\n     linear-gradient(45deg, transparent 25%, ${e} 35%, transparent 50%);\n     background-repeat:repeat-x;\n     background-size: 8px 2px;\n     background-position:0 95%;`,Y={line_error:G(F),line_warning:G(S)},J=()=>{},X=(0,i.forwardRef)((({value:e,cube:o,dataModel:n,classNames:r={},onChange:t=J},m)=>{const{formatMessage:g}=(0,s.useIntl)(),[f,p]=(0,i.useState)(),[v,h]=(0,i.useState)(),b=(0,i.useMemo)((()=>({tabSize:2})),[]),M=(0,i.useMemo)((()=>((e,o,n=(({id:e})=>`${e}`))=>({triggerCharacters:["[","."],provideCompletionItems:(r,t,i,a)=>{if(!a.isCancellationRequested)return{suggestions:K({position:t,textModel:r,cube:e,dataModel:o,formatMessage:n})}}}))(o,n,g)),[o,n,g]),x=(0,i.useMemo)((()=>(({value:e,mdxErrorDetails:o,cube:n,dataModel:r,classNames:t,formatMessage:i})=>{if(!e)return[];const a=c.j6.createModel(e);return[H,Q,U,W,Z,B].reduce(((e,{getDecorations:s})=>[...e,...s({textModel:a,mdxErrorDetails:o,cube:n,dataModel:r,classNames:t,formatMessage:i})]),[])})({value:e,dataModel:n,mdxErrorDetails:v,classNames:r,formatMessage:g})),[e,v,n,r,g]),w=(0,d.Fg)();return(0,i.useEffect)((()=>{p(w.isDark?L:q)}),[w.isDark]),(0,i.useEffect)((()=>{try{e&&(0,l.Qc)(e),h(void 0)}catch(o){if(!(o instanceof l.wb))throw o;h(o.details)}}),[e]),(0,a.tZ)(u.default,{ref:m,value:e,onChange:t,language:k,theme:f,options:b,documentFormattingEditProvider:y,completionItemProvider:M,deltaDecorations:x})})),ee=(0,i.forwardRef)(((e,o)=>(0,a.tZ)(a.ms,null,(({css:n})=>(0,a.tZ)(X,t()({},e,{ref:o,classNames:{line_error:n(Y.line_error),line_warning:n(Y.line_warning)}}))))))}}]);