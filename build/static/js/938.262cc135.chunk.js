(self.webpackChunk_activeviam_activeui=self.webpackChunk_activeviam_activeui||[]).push([[938],{74297:(e,t,r)=>{"use strict";function n(e,t){return e.parent===t.parent?1:2}function a(e,t){return e+t.x}function i(e,t){return Math.max(e,t.y)}function o(){var e=n,t=1,r=1,o=!1;function l(n){var l,s=0;n.eachAfter((function(t){var r=t.children;r?(t.x=function(e){return e.reduce(a,0)/e.length}(r),t.y=function(e){return 1+e.reduce(i,0)}(r)):(t.x=l?s+=e(t,l):0,t.y=0,l=t)}));var c=function(e){for(var t;t=e.children;)e=t[0];return e}(n),u=function(e){for(var t;t=e.children;)e=t[t.length-1];return e}(n),f=c.x-e(c,u)/2,h=u.x+e(u,c)/2;return n.eachAfter(o?function(e){e.x=(e.x-n.x)*t,e.y=(n.y-e.y)*r}:function(e){e.x=(e.x-f)/(h-f)*t,e.y=(1-(n.y?e.y/n.y:1))*r})}return l.separation=function(t){return arguments.length?(e=t,l):e},l.size=function(e){return arguments.length?(o=!1,t=+e[0],r=+e[1],l):o?null:[t,r]},l.nodeSize=function(e){return arguments.length?(o=!0,t=+e[0],r=+e[1],l):o?[t,r]:null},l}function l(e){var t=0,r=e.children,n=r&&r.length;if(n)for(;--n>=0;)t+=r[n].value;else t=1;e.value=t}function s(e,t){var r,n,a,i,o,l=new h(e),s=+e.value&&(l.value=e.value),u=[l];for(null==t&&(t=c);r=u.pop();)if(s&&(r.value=+r.data.value),(a=t(r.data))&&(o=a.length))for(r.children=new Array(o),i=o-1;i>=0;--i)u.push(n=r.children[i]=new h(a[i])),n.parent=r,n.depth=r.depth+1;return l.eachBefore(f)}function c(e){return e.children}function u(e){e.data=e.data.data}function f(e){var t=0;do{e.height=t}while((e=e.parent)&&e.height<++t)}function h(e){this.data=e,this.depth=this.height=0,this.parent=null}r.r(t),r.d(t,{cluster:()=>o,hierarchy:()=>s,pack:()=>E,packEnclose:()=>p,packSiblings:()=>k,partition:()=>j,stratify:()=>F,tree:()=>$,treemap:()=>re,treemapBinary:()=>ne,treemapDice:()=>X,treemapResquarify:()=>ie,treemapSlice:()=>Q,treemapSliceDice:()=>ae,treemapSquarify:()=>te}),h.prototype=s.prototype={constructor:h,count:function(){return this.eachAfter(l)},each:function(e){var t,r,n,a,i=this,o=[i];do{for(t=o.reverse(),o=[];i=t.pop();)if(e(i),r=i.children)for(n=0,a=r.length;n<a;++n)o.push(r[n])}while(o.length);return this},eachAfter:function(e){for(var t,r,n,a=this,i=[a],o=[];a=i.pop();)if(o.push(a),t=a.children)for(r=0,n=t.length;r<n;++r)i.push(t[r]);for(;a=o.pop();)e(a);return this},eachBefore:function(e){for(var t,r,n=this,a=[n];n=a.pop();)if(e(n),t=n.children)for(r=t.length-1;r>=0;--r)a.push(t[r]);return this},sum:function(e){return this.eachAfter((function(t){for(var r=+e(t.data)||0,n=t.children,a=n&&n.length;--a>=0;)r+=n[a].value;t.value=r}))},sort:function(e){return this.eachBefore((function(t){t.children&&t.children.sort(e)}))},path:function(e){for(var t=this,r=function(e,t){if(e===t)return e;var r=e.ancestors(),n=t.ancestors(),a=null;e=r.pop(),t=n.pop();for(;e===t;)a=e,e=r.pop(),t=n.pop();return a}(t,e),n=[t];t!==r;)t=t.parent,n.push(t);for(var a=n.length;e!==r;)n.splice(a,0,e),e=e.parent;return n},ancestors:function(){for(var e=this,t=[e];e=e.parent;)t.push(e);return t},descendants:function(){var e=[];return this.each((function(t){e.push(t)})),e},leaves:function(){var e=[];return this.eachBefore((function(t){t.children||e.push(t)})),e},links:function(){var e=this,t=[];return e.each((function(r){r!==e&&t.push({source:r.parent,target:r})})),t},copy:function(){return s(this).eachBefore(u)}};var d=Array.prototype.slice;function p(e){for(var t,r,n=0,a=(e=function(e){for(var t,r,n=e.length;n;)r=Math.random()*n--|0,t=e[n],e[n]=e[r],e[r]=t;return e}(d.call(e))).length,i=[];n<a;)t=e[n],r&&y(r,t)?++n:(r=g(i=x(i,t)),n=0);return r}function x(e,t){var r,n;if(m(t,e))return[t];for(r=0;r<e.length;++r)if(v(t,e[r])&&m(b(e[r],t),e))return[e[r],t];for(r=0;r<e.length-1;++r)for(n=r+1;n<e.length;++n)if(v(b(e[r],e[n]),t)&&v(b(e[r],t),e[n])&&v(b(e[n],t),e[r])&&m(T(e[r],e[n],t),e))return[e[r],e[n],t];throw new Error}function v(e,t){var r=e.r-t.r,n=t.x-e.x,a=t.y-e.y;return r<0||r*r<n*n+a*a}function y(e,t){var r=e.r-t.r+1e-6,n=t.x-e.x,a=t.y-e.y;return r>0&&r*r>n*n+a*a}function m(e,t){for(var r=0;r<t.length;++r)if(!y(e,t[r]))return!1;return!0}function g(e){switch(e.length){case 1:return{x:(t=e[0]).x,y:t.y,r:t.r};case 2:return b(e[0],e[1]);case 3:return T(e[0],e[1],e[2])}var t}function b(e,t){var r=e.x,n=e.y,a=e.r,i=t.x,o=t.y,l=t.r,s=i-r,c=o-n,u=l-a,f=Math.sqrt(s*s+c*c);return{x:(r+i+s/f*u)/2,y:(n+o+c/f*u)/2,r:(f+a+l)/2}}function T(e,t,r){var n=e.x,a=e.y,i=e.r,o=t.x,l=t.y,s=t.r,c=r.x,u=r.y,f=r.r,h=n-o,d=n-c,p=a-l,x=a-u,v=s-i,y=f-i,m=n*n+a*a-i*i,g=m-o*o-l*l+s*s,b=m-c*c-u*u+f*f,T=d*p-h*x,_=(p*b-x*g)/(2*T)-n,w=(x*v-p*y)/T,I=(d*g-h*b)/(2*T)-a,P=(h*y-d*v)/T,S=w*w+P*P-1,k=2*(i+_*w+I*P),L=_*_+I*I-i*i,M=-(S?(k+Math.sqrt(k*k-4*S*L))/(2*S):L/k);return{x:n+_+w*M,y:a+I+P*M,r:M}}function _(e,t,r){var n,a,i,o,l=e.x-t.x,s=e.y-t.y,c=l*l+s*s;c?(a=t.r+r.r,a*=a,o=e.r+r.r,a>(o*=o)?(n=(c+o-a)/(2*c),i=Math.sqrt(Math.max(0,o/c-n*n)),r.x=e.x-n*l-i*s,r.y=e.y-n*s+i*l):(n=(c+a-o)/(2*c),i=Math.sqrt(Math.max(0,a/c-n*n)),r.x=t.x+n*l-i*s,r.y=t.y+n*s+i*l)):(r.x=t.x+r.r,r.y=t.y)}function w(e,t){var r=e.r+t.r-1e-6,n=t.x-e.x,a=t.y-e.y;return r>0&&r*r>n*n+a*a}function I(e){var t=e._,r=e.next._,n=t.r+r.r,a=(t.x*r.r+r.x*t.r)/n,i=(t.y*r.r+r.y*t.r)/n;return a*a+i*i}function P(e){this._=e,this.next=null,this.previous=null}function S(e){if(!(a=e.length))return 0;var t,r,n,a,i,o,l,s,c,u,f;if((t=e[0]).x=0,t.y=0,!(a>1))return t.r;if(r=e[1],t.x=-r.r,r.x=t.r,r.y=0,!(a>2))return t.r+r.r;_(r,t,n=e[2]),t=new P(t),r=new P(r),n=new P(n),t.next=n.previous=r,r.next=t.previous=n,n.next=r.previous=t;e:for(l=3;l<a;++l){_(t._,r._,n=e[l]),n=new P(n),s=r.next,c=t.previous,u=r._.r,f=t._.r;do{if(u<=f){if(w(s._,n._)){r=s,t.next=r,r.previous=t,--l;continue e}u+=s._.r,s=s.next}else{if(w(c._,n._)){(t=c).next=r,r.previous=t,--l;continue e}f+=c._.r,c=c.previous}}while(s!==c.next);for(n.previous=t,n.next=r,t.next=r.previous=r=n,i=I(t);(n=n.next)!==r;)(o=I(n))<i&&(t=n,i=o);r=t.next}for(t=[r._],n=r;(n=n.next)!==r;)t.push(n._);for(n=p(t),l=0;l<a;++l)(t=e[l]).x-=n.x,t.y-=n.y;return n.r}function k(e){return S(e),e}function L(e){return null==e?null:M(e)}function M(e){if("function"!=typeof e)throw new Error;return e}function O(){return 0}function A(e){return function(){return e}}function C(e){return Math.sqrt(e.value)}function E(){var e=null,t=1,r=1,n=O;function a(a){return a.x=t/2,a.y=r/2,e?a.eachBefore(z(e)).eachAfter(D(n,.5)).eachBefore(R(1)):a.eachBefore(z(C)).eachAfter(D(O,1)).eachAfter(D(n,a.r/Math.min(t,r))).eachBefore(R(Math.min(t,r)/(2*a.r))),a}return a.radius=function(t){return arguments.length?(e=L(t),a):e},a.size=function(e){return arguments.length?(t=+e[0],r=+e[1],a):[t,r]},a.padding=function(e){return arguments.length?(n="function"==typeof e?e:A(+e),a):n},a}function z(e){return function(t){t.children||(t.r=Math.max(0,+e(t)||0))}}function D(e,t){return function(r){if(n=r.children){var n,a,i,o=n.length,l=e(r)*t||0;if(l)for(a=0;a<o;++a)n[a].r+=l;if(i=S(n),l)for(a=0;a<o;++a)n[a].r-=l;r.r=i+l}}}function R(e){return function(t){var r=t.parent;t.r*=e,r&&(t.x=r.x+e*t.x,t.y=r.y+e*t.y)}}function Y(e){e.x0=Math.round(e.x0),e.y0=Math.round(e.y0),e.x1=Math.round(e.x1),e.y1=Math.round(e.y1)}function X(e,t,r,n,a){for(var i,o=e.children,l=-1,s=o.length,c=e.value&&(n-t)/e.value;++l<s;)(i=o[l]).y0=r,i.y1=a,i.x0=t,i.x1=t+=i.value*c}function j(){var e=1,t=1,r=0,n=!1;function a(a){var i=a.height+1;return a.x0=a.y0=r,a.x1=e,a.y1=t/i,a.eachBefore(function(e,t){return function(n){n.children&&X(n,n.x0,e*(n.depth+1)/t,n.x1,e*(n.depth+2)/t);var a=n.x0,i=n.y0,o=n.x1-r,l=n.y1-r;o<a&&(a=o=(a+o)/2),l<i&&(i=l=(i+l)/2),n.x0=a,n.y0=i,n.x1=o,n.y1=l}}(t,i)),n&&a.eachBefore(Y),a}return a.round=function(e){return arguments.length?(n=!!e,a):n},a.size=function(r){return arguments.length?(e=+r[0],t=+r[1],a):[e,t]},a.padding=function(e){return arguments.length?(r=+e,a):r},a}var B={depth:-1},H={};function K(e){return e.id}function N(e){return e.parentId}function F(){var e=K,t=N;function r(r){var n,a,i,o,l,s,c,u=r.length,d=new Array(u),p={};for(a=0;a<u;++a)n=r[a],l=d[a]=new h(n),null!=(s=e(n,a,r))&&(s+="")&&(p[c="$"+(l.id=s)]=c in p?H:l);for(a=0;a<u;++a)if(l=d[a],null!=(s=t(r[a],a,r))&&(s+="")){if(!(o=p["$"+s]))throw new Error("missing: "+s);if(o===H)throw new Error("ambiguous: "+s);o.children?o.children.push(l):o.children=[l],l.parent=o}else{if(i)throw new Error("multiple roots");i=l}if(!i)throw new Error("no root");if(i.parent=B,i.eachBefore((function(e){e.depth=e.parent.depth+1,--u})).eachBefore(f),i.parent=null,u>0)throw new Error("cycle");return i}return r.id=function(t){return arguments.length?(e=M(t),r):e},r.parentId=function(e){return arguments.length?(t=M(e),r):t},r}function V(e,t){return e.parent===t.parent?1:2}function q(e){var t=e.children;return t?t[0]:e.t}function U(e){var t=e.children;return t?t[t.length-1]:e.t}function W(e,t,r){var n=r/(t.i-e.i);t.c-=n,t.s+=r,e.c+=n,t.z+=r,t.m+=r}function G(e,t,r){return e.a.parent===t.parent?e.a:r}function Z(e,t){this._=e,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=t}function $(){var e=V,t=1,r=1,n=null;function a(a){var s=function(e){for(var t,r,n,a,i,o=new Z(e,0),l=[o];t=l.pop();)if(n=t._.children)for(t.children=new Array(i=n.length),a=i-1;a>=0;--a)l.push(r=t.children[a]=new Z(n[a],a)),r.parent=t;return(o.parent=new Z(null,0)).children=[o],o}(a);if(s.eachAfter(i),s.parent.m=-s.z,s.eachBefore(o),n)a.eachBefore(l);else{var c=a,u=a,f=a;a.eachBefore((function(e){e.x<c.x&&(c=e),e.x>u.x&&(u=e),e.depth>f.depth&&(f=e)}));var h=c===u?1:e(c,u)/2,d=h-c.x,p=t/(u.x+h+d),x=r/(f.depth||1);a.eachBefore((function(e){e.x=(e.x+d)*p,e.y=e.depth*x}))}return a}function i(t){var r=t.children,n=t.parent.children,a=t.i?n[t.i-1]:null;if(r){!function(e){for(var t,r=0,n=0,a=e.children,i=a.length;--i>=0;)(t=a[i]).z+=r,t.m+=r,r+=t.s+(n+=t.c)}(t);var i=(r[0].z+r[r.length-1].z)/2;a?(t.z=a.z+e(t._,a._),t.m=t.z-i):t.z=i}else a&&(t.z=a.z+e(t._,a._));t.parent.A=function(t,r,n){if(r){for(var a,i=t,o=t,l=r,s=i.parent.children[0],c=i.m,u=o.m,f=l.m,h=s.m;l=U(l),i=q(i),l&&i;)s=q(s),(o=U(o)).a=t,(a=l.z+f-i.z-c+e(l._,i._))>0&&(W(G(l,t,n),t,a),c+=a,u+=a),f+=l.m,c+=i.m,h+=s.m,u+=o.m;l&&!U(o)&&(o.t=l,o.m+=f-u),i&&!q(s)&&(s.t=i,s.m+=c-h,n=t)}return n}(t,a,t.parent.A||n[0])}function o(e){e._.x=e.z+e.parent.m,e.m+=e.parent.m}function l(e){e.x*=t,e.y=e.depth*r}return a.separation=function(t){return arguments.length?(e=t,a):e},a.size=function(e){return arguments.length?(n=!1,t=+e[0],r=+e[1],a):n?null:[t,r]},a.nodeSize=function(e){return arguments.length?(n=!0,t=+e[0],r=+e[1],a):n?[t,r]:null},a}function Q(e,t,r,n,a){for(var i,o=e.children,l=-1,s=o.length,c=e.value&&(a-r)/e.value;++l<s;)(i=o[l]).x0=t,i.x1=n,i.y0=r,i.y1=r+=i.value*c}Z.prototype=Object.create(h.prototype);var J=(1+Math.sqrt(5))/2;function ee(e,t,r,n,a,i){for(var o,l,s,c,u,f,h,d,p,x,v,y=[],m=t.children,g=0,b=0,T=m.length,_=t.value;g<T;){s=a-r,c=i-n;do{u=m[b++].value}while(!u&&b<T);for(f=h=u,v=u*u*(x=Math.max(c/s,s/c)/(_*e)),p=Math.max(h/v,v/f);b<T;++b){if(u+=l=m[b].value,l<f&&(f=l),l>h&&(h=l),v=u*u*x,(d=Math.max(h/v,v/f))>p){u-=l;break}p=d}y.push(o={value:u,dice:s<c,children:m.slice(g,b)}),o.dice?X(o,r,n,a,_?n+=c*u/_:i):Q(o,r,n,_?r+=s*u/_:a,i),_-=u,g=b}return y}const te=function e(t){function r(e,r,n,a,i){ee(t,e,r,n,a,i)}return r.ratio=function(t){return e((t=+t)>1?t:1)},r}(J);function re(){var e=te,t=!1,r=1,n=1,a=[0],i=O,o=O,l=O,s=O,c=O;function u(e){return e.x0=e.y0=0,e.x1=r,e.y1=n,e.eachBefore(f),a=[0],t&&e.eachBefore(Y),e}function f(t){var r=a[t.depth],n=t.x0+r,u=t.y0+r,f=t.x1-r,h=t.y1-r;f<n&&(n=f=(n+f)/2),h<u&&(u=h=(u+h)/2),t.x0=n,t.y0=u,t.x1=f,t.y1=h,t.children&&(r=a[t.depth+1]=i(t)/2,n+=c(t)-r,u+=o(t)-r,(f-=l(t)-r)<n&&(n=f=(n+f)/2),(h-=s(t)-r)<u&&(u=h=(u+h)/2),e(t,n,u,f,h))}return u.round=function(e){return arguments.length?(t=!!e,u):t},u.size=function(e){return arguments.length?(r=+e[0],n=+e[1],u):[r,n]},u.tile=function(t){return arguments.length?(e=M(t),u):e},u.padding=function(e){return arguments.length?u.paddingInner(e).paddingOuter(e):u.paddingInner()},u.paddingInner=function(e){return arguments.length?(i="function"==typeof e?e:A(+e),u):i},u.paddingOuter=function(e){return arguments.length?u.paddingTop(e).paddingRight(e).paddingBottom(e).paddingLeft(e):u.paddingTop()},u.paddingTop=function(e){return arguments.length?(o="function"==typeof e?e:A(+e),u):o},u.paddingRight=function(e){return arguments.length?(l="function"==typeof e?e:A(+e),u):l},u.paddingBottom=function(e){return arguments.length?(s="function"==typeof e?e:A(+e),u):s},u.paddingLeft=function(e){return arguments.length?(c="function"==typeof e?e:A(+e),u):c},u}function ne(e,t,r,n,a){var i,o,l=e.children,s=l.length,c=new Array(s+1);for(c[0]=o=i=0;i<s;++i)c[i+1]=o+=l[i].value;!function e(t,r,n,a,i,o,s){if(t>=r-1){var u=l[t];return u.x0=a,u.y0=i,u.x1=o,void(u.y1=s)}var f=c[t],h=n/2+f,d=t+1,p=r-1;for(;d<p;){var x=d+p>>>1;c[x]<h?d=x+1:p=x}h-c[d-1]<c[d]-h&&t+1<d&&--d;var v=c[d]-f,y=n-v;if(o-a>s-i){var m=(a*y+o*v)/n;e(t,d,v,a,i,m,s),e(d,r,y,m,i,o,s)}else{var g=(i*y+s*v)/n;e(t,d,v,a,i,o,g),e(d,r,y,a,g,o,s)}}(0,s,e.value,t,r,n,a)}function ae(e,t,r,n,a){(1&e.depth?Q:X)(e,t,r,n,a)}const ie=function e(t){function r(e,r,n,a,i){if((o=e._squarify)&&o.ratio===t)for(var o,l,s,c,u,f=-1,h=o.length,d=e.value;++f<h;){for(s=(l=o[f]).children,c=l.value=0,u=s.length;c<u;++c)l.value+=s[c].value;l.dice?X(l,r,n,a,n+=(i-n)*l.value/d):Q(l,r,n,r+=(a-r)*l.value/d,i),d-=l.value}else e._squarify=o=ee(t,e,r,n,a,i),o.ratio=t}return r.ratio=function(t){return e((t=+t)>1?t:1)},r}(J)},69938:(e,t,r)=>{"use strict";e.exports=r(1492)},817:(e,t,r)=>{"use strict";var n=r(20992),a=r(31025).f,i=r(31025).s,o=r(64138),l=r(5227).Y,s=r(36212),c=r(66067),u=r(61782).extendFlat;e.exports={labels:{valType:"data_array",editType:"calc",description:["Sets the labels of each of the sectors."].join(" ")},parents:{valType:"data_array",editType:"calc",description:["Sets the parent sectors for each of the sectors.","Empty string items '' are understood to reference","the root node in the hierarchy.",'If `ids` is filled, `parents` items are understood to be "ids" themselves.',"When `ids` is not set, plotly attempts to find matching items in `labels`,","but beware they must be unique."].join(" ")},values:{valType:"data_array",editType:"calc",description:["Sets the values associated with each of the sectors.","Use with `branchvalues` to determine how the values are summed."].join(" ")},branchvalues:{valType:"enumerated",values:["remainder","total"],dflt:"remainder",editType:"calc",role:"info",description:["Determines how the items in `values` are summed.","When set to *total*, items in `values` are taken to be value of all its descendants.","When set to *remainder*, items in `values` corresponding to the root and the branches sectors","are taken to be the extra part not part of the sum of the values at their leaves."].join(" ")},count:{valType:"flaglist",flags:["branches","leaves"],dflt:"leaves",editType:"calc",role:"info",description:["Determines default for `values` when it is not provided,","by inferring a 1 for each of the *leaves* and/or *branches*, otherwise 0."].join(" ")},level:{valType:"any",editType:"plot",anim:!0,role:"info",description:["Sets the level from which this trace hierarchy is rendered.","Set `level` to `''` to start from the root node in the hierarchy.",'Must be an "id" if `ids` is filled in, otherwise plotly attempts to find a matching',"item in `labels`."].join(" ")},maxdepth:{valType:"integer",editType:"plot",role:"info",dflt:-1,description:["Sets the number of rendered sectors from any given `level`.","Set `maxdepth` to *-1* to render all the levels in the hierarchy."].join(" ")},marker:u({colors:{valType:"data_array",editType:"calc",description:["Sets the color of each sector of this trace.","If not specified, the default trace color set is used","to pick the sector colors."].join(" ")},line:{color:u({},s.marker.line.color,{dflt:null,description:["Sets the color of the line enclosing each sector.","Defaults to the `paper_bgcolor` value."].join(" ")}),width:u({},s.marker.line.width,{dflt:1}),editType:"calc"},editType:"calc"},o("marker",{colorAttr:"colors",anim:!1})),leaf:{opacity:{valType:"number",editType:"style",role:"style",min:0,max:1,description:["Sets the opacity of the leaves. With colorscale","it is defaulted to 1; otherwise it is defaulted to 0.7"].join(" ")},editType:"plot"},text:s.text,textinfo:{valType:"flaglist",role:"info",flags:["label","text","value","current path","percent root","percent entry","percent parent"],extras:["none"],editType:"plot",description:["Determines which trace information appear on the graph."].join(" ")},texttemplate:i({editType:"plot"},{keys:c.eventDataKeys.concat(["label","value"])}),hovertext:s.hovertext,hoverinfo:u({},n.hoverinfo,{flags:["label","text","value","name","current path","percent root","percent entry","percent parent"],dflt:"label+text+value+name"}),hovertemplate:a({},{keys:c.eventDataKeys}),textfont:s.textfont,insidetextorientation:s.insidetextorientation,insidetextfont:s.insidetextfont,outsidetextfont:u({},s.outsidetextfont,{description:["Sets the font used for `textinfo` lying outside the sector.","This option refers to the root of the hierarchy","presented at the center of a sunburst graph.","Please note that if a hierarchy has multiple root nodes,","this option won't have any effect and `insidetextfont` would be used."].join(" ")}),rotation:{valType:"angle",role:"style",dflt:0,editType:"plot",description:["Rotates the whole diagram counterclockwise by some angle.","By default the first slice starts at 3 o'clock."].join(" ")},sort:s.sort,root:{color:{valType:"color",editType:"calc",role:"style",dflt:"rgba(0,0,0,0)",description:["sets the color of the root node for a sunburst or a treemap trace.","this has no effect when a colorscale is used to set the markers."].join(" ")},editType:"calc"},domain:l({name:"sunburst",trace:!0,editType:"calc"})}},52025:(e,t,r)=>{"use strict";var n=r(74297),a=r(85472),i=r(95754),o=r(13879).makeColorScaleFuncFromTrace,l=r(40419).makePullColorFn,s=r(40419).generateExtendedColors,c=r(13879).calc,u=r(68847).ALMOST_EQUAL,f={},h={};function d(e,t,r){var n=0,a=e.children;if(a){for(var i=a.length,o=0;o<i;o++)n+=d(a[o],t,r);r.branches&&n++}else r.leaves&&n++;return e.value=e.data.data.value=n,t._values||(t._values=[]),t._values[e.data.data.i]=n,n}t.calc=function(e,t){var r,s,f,h,p,x,v=e._fullLayout,y=t.ids,m=i.isArrayOrTypedArray(y),g=t.labels,b=t.parents,T=t.values,_=i.isArrayOrTypedArray(T),w=[],I={},P={},S=function(e){return e||"number"==typeof e},k=function(e){return!_||a(T[e])&&T[e]>=0};m?(r=Math.min(y.length,b.length),s=function(e){return S(y[e])&&k(e)},f=function(e){return String(y[e])}):(r=Math.min(g.length,b.length),s=function(e){return S(g[e])&&k(e)},f=function(e){return String(g[e])}),_&&(r=Math.min(r,T.length));for(var L=0;L<r;L++)if(s(L)){var M=f(L),O=S(b[L])?String(b[L]):"",A={i:L,id:M,pid:O,label:S(g[L])?String(g[L]):""};_&&(A.v=+T[L]),w.push(A),p=M,I[h=O]?I[h].push(p):I[h]=[p],P[p]=1}if(I[""]){if(I[""].length>1){for(var C=i.randstr(),E=0;E<w.length;E++)""===w[E].pid&&(w[E].pid=C);w.unshift({hasMultipleRoots:!0,id:C,pid:"",label:""})}}else{var z,D=[];for(z in I)P[z]||D.push(z);if(1!==D.length)return i.warn(["Multiple implied roots, cannot build",t.type,"hierarchy of",t.name+".","These roots include:",D.join(", ")].join(" "));z=D[0],w.unshift({hasImpliedRoot:!0,id:z,pid:"",label:z})}try{x=n.stratify().id((function(e){return e.id})).parentId((function(e){return e.pid}))(w)}catch(K){return i.warn(["Failed to build",t.type,"hierarchy of",t.name+".","Error:",K.message].join(" "))}var R=n.hierarchy(x),Y=!1;if(_)switch(t.branchvalues){case"remainder":R.sum((function(e){return e.data.v}));break;case"total":R.each((function(e){var r=e.data.data,n=r.v;if(e.children){var a=e.children.reduce((function(e,t){return e+t.data.data.v}),0);if((r.hasImpliedRoot||r.hasMultipleRoots)&&(n=a),n<a*u)return Y=!0,i.warn(["Total value for node",e.data.data.id,"of",t.name,"is smaller than the sum of its children.","\nparent value =",n,"\nchildren sum =",a].join(" "))}e.value=n}))}else d(R,t,{branches:-1!==t.count.indexOf("branches"),leaves:-1!==t.count.indexOf("leaves")});if(!Y){var X,j;t.sort&&R.sort((function(e,t){return t.value-e.value}));var B=t.marker.colors||[],H=!!B.length;return t._hasColorscale?(H||(B=_?t.values:t._values),c(e,t,{vals:B,containerStr:"marker",cLetter:"c"}),j=o(t.marker)):X=l(v["_"+t.type+"colormap"]),R.each((function(e){var r=e.data.data;r.color=t._hasColorscale?j(B[r.i]):X(B[r.i],r.id)})),w[0].hierarchy=R,w}},t._runCrossTraceCalc=function(e,t){var r=t._fullLayout,n=t.calcdata,a=r[e+"colorway"],i=r["_"+e+"colormap"];r["extend"+e+"colors"]&&(a=s(a,"treemap"===e?h:f));var o,l=0;function c(e){var t=e.data.data,r=t.id;!1===t.color&&(i[r]?t.color=i[r]:e.parent?e.parent.parent?t.color=e.parent.data.data.color:(i[r]=t.color=a[l%a.length],l++):t.color=o)}for(var u=0;u<n.length;u++){var d=n[u][0];d.trace.type===e&&d.hierarchy&&(o=d.trace.root.color,d.hierarchy.each(c))}},t.crossTraceCalc=function(e){return t._runCrossTraceCalc("sunburst",e)}},66067:e=>{"use strict";e.exports={CLICK_TRANSITION_TIME:750,CLICK_TRANSITION_EASING:"linear",eventDataKeys:["currentPath","root","entry","percentRoot","percentEntry","percentParent"]}},39580:(e,t,r)=>{"use strict";var n=r(42895),a=r(97966),i=r(17273).appendArrayPointValue,o=r(58253),l=r(95754),s=r(6058),c=r(14095),u=r(75204).formatPieValue;function f(e,t,r){for(var n=e.data.data,a={curveNumber:t.index,pointNumber:n.i,data:t._input,fullData:t},o=0;o<r.length;o++){var l=r[o];l in e&&(a[l]=e[l])}return"parentString"in e&&!c.isHierarchyRoot(e)&&(a.parent=e.parentString),i(a,t,n.i),a}e.exports=function(e,t,r,i,h){var d=i[0],p=d.trace,x=d.hierarchy,v="sunburst"===p.type,y="treemap"===p.type;"_hasHoverLabel"in p||(p._hasHoverLabel=!1),"_hasHoverEvent"in p||(p._hasHoverEvent=!1);e.on("mouseover",(function(a){var i=r._fullLayout;if(!r._dragging&&!1!==i.hovermode){var s=r._fullData[p.index],m=a.data.data,g=m.i,b=c.isHierarchyRoot(a),T=c.getParent(x,a),_=c.getValue(a),w=function(e){return l.castOption(s,g,e)},I=w("hovertemplate"),P=o.castHoverinfo(s,i,g),S=i.separators;if(I||P&&"none"!==P&&"skip"!==P){var k,L;v&&(k=d.cx+a.pxmid[0]*(1-a.rInscribed),L=d.cy+a.pxmid[1]*(1-a.rInscribed)),y&&(k=a._hoverX,L=a._hoverY);var M,O={},A=[],C=[],E=function(e){return-1!==A.indexOf(e)};P&&(A="all"===P?s._module.attributes.hoverinfo.flags:P.split("+")),O.label=m.label,E("label")&&O.label&&C.push(O.label),m.hasOwnProperty("v")&&(O.value=m.v,O.valueLabel=u(O.value,S),E("value")&&C.push(O.valueLabel)),O.currentPath=a.currentPath=c.getPath(a.data),E("current path")&&!b&&C.push(O.currentPath);var z=[],D=function(){-1===z.indexOf(M)&&(C.push(M),z.push(M))};O.percentParent=a.percentParent=_/c.getValue(T),O.parent=a.parentString=c.getPtLabel(T),E("percent parent")&&(M=c.formatPercent(O.percentParent,S)+" of "+O.parent,D()),O.percentEntry=a.percentEntry=_/c.getValue(t),O.entry=a.entry=c.getPtLabel(t),!E("percent entry")||b||a.onPathbar||(M=c.formatPercent(O.percentEntry,S)+" of "+O.entry,D()),O.percentRoot=a.percentRoot=_/c.getValue(x),O.root=a.root=c.getPtLabel(x),E("percent root")&&!b&&(M=c.formatPercent(O.percentRoot,S)+" of "+O.root,D()),O.text=w("hovertext")||w("text"),E("text")&&(M=O.text,l.isValidTextValue(M)&&C.push(M));var R={trace:s,y:L,text:C.join("<br>"),name:I||E("name")?s.name:void 0,color:w("hoverlabel.bgcolor")||m.color,borderColor:w("hoverlabel.bordercolor"),fontFamily:w("hoverlabel.font.family"),fontSize:w("hoverlabel.font.size"),fontColor:w("hoverlabel.font.color"),nameLength:w("hoverlabel.namelength"),textAlign:w("hoverlabel.align"),hovertemplate:I,hovertemplateLabels:O,eventData:[f(a,s,h.eventDataKeys)]};v&&(R.x0=k-a.rInscribed*a.rpx1,R.x1=k+a.rInscribed*a.rpx1,R.idealAlign=a.pxmid[0]<0?"left":"right"),y&&(R.x=k,R.idealAlign=k<0?"left":"right"),o.loneHover(R,{container:i._hoverlayer.node(),outerContainer:i._paper.node(),gd:r}),p._hasHoverLabel=!0}if(y){var Y=e.select("path.surface");h.styleOne(Y,a,s,{hovered:!0})}p._hasHoverEvent=!0,r.emit("plotly_hover",{points:[f(a,s,h.eventDataKeys)],event:n.event})}})),e.on("mouseout",(function(t){var a=r._fullLayout,i=r._fullData[p.index],l=n.select(this).datum();if(p._hasHoverEvent&&(t.originalEvent=n.event,r.emit("plotly_unhover",{points:[f(l,i,h.eventDataKeys)],event:n.event}),p._hasHoverEvent=!1),p._hasHoverLabel&&(o.loneUnhover(a._hoverlayer.node()),p._hasHoverLabel=!1),y){var s=e.select("path.surface");h.styleOne(s,l,i,{hovered:!1})}})),e.on("click",(function(e){var t=r._fullLayout,i=r._fullData[p.index],l=v&&(c.isHierarchyRoot(e)||c.isLeaf(e)),u=c.getPtId(e),d=c.isEntry(e)?c.findEntryWithChild(x,u):c.findEntryWithLevel(x,u),y=c.getPtId(d),m={points:[f(e,i,h.eventDataKeys)],event:n.event};l||(m.nextLevel=y);var g=s.triggerHandler(r,"plotly_"+p.type+"click",m);if(!1!==g&&t.hovermode&&(r._hoverdata=[f(e,i,h.eventDataKeys)],o.click(r,n.event)),!l&&!1!==g&&!r._dragging&&!r._transitioning){a.call("_storeDirectGUIEdit",i,t._tracePreGUI[i.uid],{level:i.level});var b={data:[{level:y}],traces:[p.index]},T={frame:{redraw:!1,duration:h.transitionTime},transition:{duration:h.transitionTime,easing:h.transitionEasing},mode:"immediate",fromcurrent:!0};o.loneUnhover(t._hoverlayer.node()),a.call("animate",r,b,T)}}))}},14095:(e,t,r)=>{"use strict";var n=r(95754),a=r(92665),i=r(59329),o=r(75204);function l(e){return e.data.data.pid}t.findEntryWithLevel=function(e,r){var n;return r&&e.eachAfter((function(e){if(t.getPtId(e)===r)return n=e.copy()})),n||e},t.findEntryWithChild=function(e,r){var n;return e.eachAfter((function(e){for(var a=e.children||[],i=0;i<a.length;i++){var o=a[i];if(t.getPtId(o)===r)return n=e.copy()}})),n||e},t.isEntry=function(e){return!e.parent},t.isLeaf=function(e){return!e.children},t.getPtId=function(e){return e.data.data.id},t.getPtLabel=function(e){return e.data.data.label},t.getValue=function(e){return e.value},t.isHierarchyRoot=function(e){return""===l(e)},t.setSliceCursor=function(e,r,n){var a=n.isTransitioning;if(!a){var o=e.datum();a=n.hideOnRoot&&t.isHierarchyRoot(o)||n.hideOnLeaves&&t.isLeaf(o)}i(e,a?null:"pointer")},t.getInsideTextFontKey=function(e,t,r,a,i){var o=(i||{}).onPathbar?"pathbar.textfont":"insidetextfont",l=r.data.data.i;return n.castOption(t,l,o+"."+e)||n.castOption(t,l,"textfont."+e)||a.size},t.getOutsideTextFontKey=function(e,t,r,a){var i=r.data.data.i;return n.castOption(t,i,"outsidetextfont."+e)||n.castOption(t,i,"textfont."+e)||a.size},t.isOutsideText=function(e,r){return!e._hasColorscale&&t.isHierarchyRoot(r)},t.determineTextFont=function(e,r,i,o){return t.isOutsideText(e,r)?function(e,r,n){return{color:t.getOutsideTextFontKey("color",e,r,n),family:t.getOutsideTextFontKey("family",e,r,n),size:t.getOutsideTextFontKey("size",e,r,n)}}(e,r,i):function(e,r,i,o){var l=(o||{}).onPathbar,s=r.data.data,c=s.i,u=n.castOption(e,c,(l?"pathbar.textfont":"insidetextfont")+".color");return!u&&e._input.textfont&&(u=n.castOption(e._input,c,"textfont.color")),{color:u||a.contrast(s.color),family:t.getInsideTextFontKey("family",e,r,i,o),size:t.getInsideTextFontKey("size",e,r,i,o)}}(e,r,i,o)},t.hasTransition=function(e){return!!(e&&e.duration>0)},t.getMaxDepth=function(e){return e.maxdepth>=0?e.maxdepth:1/0},t.isHeader=function(e,r){return!(t.isLeaf(e)||e.depth===r._maxDepth-1)},t.getParent=function(e,r){return t.findEntryWithLevel(e,l(r))},t.listPath=function(e,r){var n=e.parent;if(!n)return[];var a=r?[n.data[r]]:[n];return t.listPath(n,r).concat(a)},t.getPath=function(e){return t.listPath(e,"label").join("/")+"/"},t.formatValue=o.formatPieValue,t.formatPercent=function(e,t){var r=n.formatPercent(e,0);return"0%"===r&&(r=o.formatPiePercent(e,t)),r}},79890:(e,t,r)=>{"use strict";var n=r(42895),a=r(74297),i=r(14124),o=r(95754),l=r(73071),s=r(37299),c=s.recordMinTextSize,u=s.clearMinTextSize,f=r(53068),h=r(75204).getRotationAngle,d=f.computeTransform,p=f.transformInsideText,x=r(18441).styleOne,v=r(79438).resizeText,y=r(39580),m=r(66067),g=r(14095);function b(e,r,s,u){var f=e._fullLayout,v=!f.uniformtext.mode&&g.hasTransition(u),b=n.select(s).selectAll("g.slice"),_=r[0],w=_.trace,I=_.hierarchy,P=g.findEntryWithLevel(I,w.level),S=g.getMaxDepth(w),k=f._size,L=w.domain,M=k.w*(L.x[1]-L.x[0]),O=k.h*(L.y[1]-L.y[0]),A=.5*Math.min(M,O),C=_.cx=k.l+k.w*(L.x[1]+L.x[0])/2,E=_.cy=k.t+k.h*(1-L.y[0])-O/2;if(!P)return b.remove();var z=null,D={};v&&b.each((function(e){D[g.getPtId(e)]={rpx0:e.rpx0,rpx1:e.rpx1,x0:e.x0,x1:e.x1,transform:e.transform},!z&&g.isEntry(e)&&(z=e)}));var R=function(e){return a.partition().size([2*Math.PI,e.height+1])(e)}(P).descendants(),Y=P.height+1,X=0,j=S;_.hasMultipleRoots&&g.isHierarchyRoot(P)&&(R=R.slice(1),Y-=1,X=1,j+=1),R=R.filter((function(e){return e.y1<=j}));var B=h(w.rotation);B&&R.forEach((function(e){e.x0+=B,e.x1+=B}));var H=Math.min(Y,S),K=function(e){return(e-X)/H*A},N=function(e,t){return[e*Math.cos(t),-e*Math.sin(t)]},F=function(e){return o.pathAnnulus(e.rpx0,e.rpx1,e.x0,e.x1,C,E)},V=function(e){return C+T(e)[0]*(e.transform.rCenter||0)+(e.transform.x||0)},q=function(e){return E+T(e)[1]*(e.transform.rCenter||0)+(e.transform.y||0)};(b=b.data(R,g.getPtId)).enter().append("g").classed("slice",!0),v?b.exit().transition().each((function(){var e=n.select(this);e.select("path.surface").transition().attrTween("d",(function(e){var t=function(e){var t,r=g.getPtId(e),a=D[r],i=D[g.getPtId(P)];if(i){var o=(e.x1>i.x1?2*Math.PI:0)+B;t=e.rpx1<i.rpx1?{rpx0:0,rpx1:0}:{x0:o,x1:o}}else{var l,s=g.getPtId(e.parent);b.each((function(e){if(g.getPtId(e)===s)return l=e}));var c,u=l.children;u.forEach((function(e,t){if(g.getPtId(e)===r)return c=t}));var f=u.length,h=n.interpolate(l.x0,l.x1);t={rpx0:A,rpx1:A,x0:h(c/f),x1:h((c+1)/f)}}return n.interpolate(a,t)}(e);return function(e){return F(t(e))}})),e.select("g.slicetext").attr("opacity",0)})).remove():b.exit().remove(),b.order();var U=null;if(v&&z){var W=g.getPtId(z);b.each((function(e){null===U&&g.getPtId(e)===W&&(U=e.x1)}))}var G=b;function Z(e){var t=e.parent,r=D[g.getPtId(t)],a={};if(r){var i=t.children,o=i.indexOf(e),l=i.length,s=n.interpolate(r.x0,r.x1);a.x0=s(o/l),a.x1=s(o/l)}else a.x0=a.x1=0;return a}v&&(G=G.transition().each("end",(function(){var t=n.select(this);g.setSliceCursor(t,e,{hideOnRoot:!0,hideOnLeaves:!0,isTransitioning:!1})}))),G.each((function(a){var s=n.select(this),u=o.ensureSingle(s,"path","surface",(function(e){e.style("pointer-events","all")}));a.rpx0=K(a.y0),a.rpx1=K(a.y1),a.xmid=(a.x0+a.x1)/2,a.pxmid=N(a.rpx1,a.xmid),a.midangle=-(a.xmid-Math.PI/2),a.startangle=-(a.x0-Math.PI/2),a.stopangle=-(a.x1-Math.PI/2),a.halfangle=.5*Math.min(o.angleDelta(a.x0,a.x1)||Math.PI,Math.PI),a.ring=1-a.rpx0/a.rpx1,a.rInscribed=function(e){return 0===e.rpx0&&o.isFullCircle([e.x0,e.x1])?1:Math.max(0,Math.min(1/(1+1/Math.sin(e.halfangle)),e.ring/2))}(a),v?u.transition().attrTween("d",(function(e){var t=function(e){var t,r=D[g.getPtId(e)],a={x0:e.x0,x1:e.x1,rpx0:e.rpx0,rpx1:e.rpx1};if(r)t=r;else if(z)if(e.parent)if(U){var i=(e.x1>U?2*Math.PI:0)+B;t={x0:i,x1:i}}else t={rpx0:A,rpx1:A},o.extendFlat(t,Z(e));else t={rpx0:0,rpx1:0};else t={x0:B,x1:B};return n.interpolate(t,a)}(e);return function(e){return F(t(e))}})):u.attr("d",F),s.call(y,P,e,r,{eventDataKeys:m.eventDataKeys,transitionTime:m.CLICK_TRANSITION_TIME,transitionEasing:m.CLICK_TRANSITION_EASING}).call(g.setSliceCursor,e,{hideOnRoot:!0,hideOnLeaves:!0,isTransitioning:e._transitioning}),u.call(x,a,w);var h=o.ensureSingle(s,"g","slicetext"),b=o.ensureSingle(h,"text","",(function(e){e.attr("data-notex",1)})),T=o.ensureUniformFontSize(e,g.determineTextFont(w,a,f.font));b.text(t.formatSliceLabel(a,P,w,r,f)).classed("slicetext",!0).attr("text-anchor","middle").call(i.font,T).call(l.convertToTspans,e);var I=i.bBox(b.node());a.transform=p(I,a,_),a.transform.targetX=V(a),a.transform.targetY=q(a);var S=function(e,t){var r=e.transform;return d(r,t),r.fontSize=T.size,c(w.type,r,f),o.getTextTransform(r)};v?b.transition().attrTween("transform",(function(e){var t=function(e){var t,r=D[g.getPtId(e)],a=e.transform;if(r)t=r;else if(t={rpx1:e.rpx1,transform:{textPosAngle:a.textPosAngle,scale:0,rotate:a.rotate,rCenter:a.rCenter,x:a.x,y:a.y}},z)if(e.parent)if(U){var i=e.x1>U?2*Math.PI:0;t.x0=t.x1=i}else o.extendFlat(t,Z(e));else t.x0=t.x1=B;else t.x0=t.x1=B;var l=n.interpolate(t.transform.textPosAngle,e.transform.textPosAngle),s=n.interpolate(t.rpx1,e.rpx1),u=n.interpolate(t.x0,e.x0),h=n.interpolate(t.x1,e.x1),d=n.interpolate(t.transform.scale,a.scale),p=n.interpolate(t.transform.rotate,a.rotate),x=0===a.rCenter?3:0===t.transform.rCenter?1/3:1,v=n.interpolate(t.transform.rCenter,a.rCenter),y=function(e){return v(Math.pow(e,x))};return function(e){var t=s(e),r=u(e),n=h(e),i=y(e),o={pxmid:N(t,(r+n)/2),rpx1:t,transform:{textPosAngle:l(e),rCenter:i,x:a.x,y:a.y}};return c(w.type,a,f),{transform:{targetX:V(o),targetY:q(o),scale:d(e),rotate:p(e),rCenter:i}}}}(e);return function(e){return S(t(e),I)}})):b.attr("transform",S(a,I))}))}function T(e){return t=e.rpx1,r=e.transform.textPosAngle,[t*Math.sin(r),-t*Math.cos(r)];var t,r}t.plot=function(e,t,r,a){var i,o,l=e._fullLayout,s=l._sunburstlayer,c=!r,f=!l.uniformtext.mode&&g.hasTransition(r);(u("sunburst",l),(i=s.selectAll("g.trace.sunburst").data(t,(function(e){return e[0].trace.uid}))).enter().append("g").classed("trace",!0).classed("sunburst",!0).attr("stroke-linejoin","round"),i.order(),f)?(a&&(o=a()),n.transition().duration(r.duration).ease(r.easing).each("end",(function(){o&&o()})).each("interrupt",(function(){o&&o()})).each((function(){s.selectAll("g.trace").each((function(t){b(e,t,this,r)}))}))):(i.each((function(t){b(e,t,this,r)})),l.uniformtext.mode&&v(e,l._sunburstlayer.selectAll(".trace"),"sunburst"));c&&i.exit().remove()},t.formatSliceLabel=function(e,t,r,n,a){var i=r.texttemplate,l=r.textinfo;if(!(i||l&&"none"!==l))return"";var s=a.separators,c=n[0],u=e.data.data,f=c.hierarchy,h=g.isHierarchyRoot(e),d=g.getParent(f,e),p=g.getValue(e);if(!i){var x,v=l.split("+"),y=function(e){return-1!==v.indexOf(e)},m=[];if(y("label")&&u.label&&m.push(u.label),u.hasOwnProperty("v")&&y("value")&&m.push(g.formatValue(u.v,s)),!h){y("current path")&&m.push(g.getPath(e.data));var b=0;y("percent parent")&&b++,y("percent entry")&&b++,y("percent root")&&b++;var T=b>1;if(b){var _,w=function(e){x=g.formatPercent(_,s),T&&(x+=" of "+e),m.push(x)};y("percent parent")&&!h&&(_=p/g.getValue(d),w("parent")),y("percent entry")&&(_=p/g.getValue(t),w("entry")),y("percent root")&&(_=p/g.getValue(f),w("root"))}}return y("text")&&(x=o.castOption(r,u.i,"text"),o.isValidTextValue(x)&&m.push(x)),m.join("<br>")}var I=o.castOption(r,u.i,"texttemplate");if(!I)return"";var P={};u.label&&(P.label=u.label),u.hasOwnProperty("v")&&(P.value=u.v,P.valueLabel=g.formatValue(u.v,s)),P.currentPath=g.getPath(e.data),h||(P.percentParent=p/g.getValue(d),P.percentParentLabel=g.formatPercent(P.percentParent,s),P.parent=g.getPtLabel(d)),P.percentEntry=p/g.getValue(t),P.percentEntryLabel=g.formatPercent(P.percentEntry,s),P.entry=g.getPtLabel(t),P.percentRoot=p/g.getValue(f),P.percentRootLabel=g.formatPercent(P.percentRoot,s),P.root=g.getPtLabel(f),u.hasOwnProperty("color")&&(P.color=u.color);var S=o.castOption(r,u.i,"text");return(o.isValidTextValue(S)||""===S)&&(P.text=S),P.customdata=o.castOption(r,u.i,"customdata"),o.texttemplateString(I,P,a._d3locale,P,r._meta||{})}},18441:(e,t,r)=>{"use strict";var n=r(42895),a=r(92665),i=r(95754),o=r(37299).resizeText;function l(e,t,r){var n=t.data.data,o=!t.children,l=n.i,s=i.castOption(r,l,"marker.line.color")||a.defaultLine,c=i.castOption(r,l,"marker.line.width")||0;e.style("stroke-width",c).call(a.fill,n.color).call(a.stroke,s).style("opacity",o?r.leaf.opacity:null)}e.exports={style:function(e){var t=e._fullLayout._sunburstlayer.selectAll(".trace");o(e,t,"sunburst"),t.each((function(e){var t=n.select(this),r=e[0].trace;t.style("opacity",r.opacity),t.selectAll("path.surface").each((function(e){n.select(this).call(l,e,r)}))}))},styleOne:l}},63652:(e,t,r)=>{"use strict";var n=r(31025).f,a=r(31025).s,i=r(64138),o=r(5227).Y,l=r(36212),s=r(817),c=r(82785),u=r(61782).extendFlat;e.exports={labels:s.labels,parents:s.parents,values:s.values,branchvalues:s.branchvalues,count:s.count,level:s.level,maxdepth:s.maxdepth,tiling:{packing:{valType:"enumerated",values:["squarify","binary","dice","slice","slice-dice","dice-slice"],dflt:"squarify",role:"info",editType:"plot",description:["Determines d3 treemap solver.","For more info please refer to https://github.com/d3/d3-hierarchy#treemap-tiling"].join(" ")},squarifyratio:{valType:"number",role:"info",min:1,dflt:1,editType:"plot",description:["When using *squarify* `packing` algorithm, according to https://github.com/d3/d3-hierarchy/blob/master/README.md#squarify_ratio","this option specifies the desired aspect ratio of the generated rectangles.","The ratio must be specified as a number greater than or equal to one.","Note that the orientation of the generated rectangles (tall or wide)","is not implied by the ratio; for example, a ratio of two will attempt","to produce a mixture of rectangles whose width:height ratio is either 2:1 or 1:2.","When using *squarify*, unlike d3 which uses the Golden Ratio i.e. 1.618034,","Plotly applies 1 to increase squares in treemap layouts."].join(" ")},flip:{valType:"flaglist",role:"info",flags:["x","y"],dflt:"",editType:"plot",description:["Determines if the positions obtained from solver are flipped on each axis."].join(" ")},pad:{valType:"number",role:"style",min:0,dflt:3,editType:"plot",description:["Sets the inner padding (in px)."].join(" ")},editType:"calc"},marker:u({pad:{t:{valType:"number",role:"style",min:0,editType:"plot",description:["Sets the padding form the top (in px)."].join(" ")},l:{valType:"number",role:"style",min:0,editType:"plot",description:["Sets the padding form the left (in px)."].join(" ")},r:{valType:"number",role:"style",min:0,editType:"plot",description:["Sets the padding form the right (in px)."].join(" ")},b:{valType:"number",role:"style",min:0,editType:"plot",description:["Sets the padding form the bottom (in px)."].join(" ")},editType:"calc"},colors:s.marker.colors,depthfade:{valType:"enumerated",values:[!0,!1,"reversed"],editType:"style",role:"style",description:["Determines if the sector colors are faded towards","the background from the leaves up to the headers.","This option is unavailable when a `colorscale` is present,","defaults to false when `marker.colors` is set,","but otherwise defaults to true.","When set to *reversed*, the fading direction is inverted,","that is the top elements within hierarchy are drawn with fully saturated colors","while the leaves are faded towards the background color."].join(" ")},line:s.marker.line,editType:"calc"},i("marker",{colorAttr:"colors",anim:!1})),pathbar:{visible:{valType:"boolean",dflt:!0,role:"info",editType:"plot",description:["Determines if the path bar is drawn","i.e. outside the trace `domain` and","with one pixel gap."].join(" ")},side:{valType:"enumerated",values:["top","bottom"],dflt:"top",role:"info",editType:"plot",description:["Determines on which side of the the treemap the","`pathbar` should be presented."].join(" ")},edgeshape:{valType:"enumerated",values:[">","<","|","/","\\"],dflt:">",role:"style",editType:"plot",description:["Determines which shape is used for edges between `barpath` labels."].join(" ")},thickness:{valType:"number",min:12,role:"info",editType:"plot",description:["Sets the thickness of `pathbar` (in px). If not specified the `pathbar.textfont.size` is used","with 3 pixles extra padding on each side."].join(" ")},textfont:u({},l.textfont,{description:"Sets the font used inside `pathbar`."}),editType:"calc"},text:l.text,textinfo:s.textinfo,texttemplate:a({editType:"plot"},{keys:c.eventDataKeys.concat(["label","value"])}),hovertext:l.hovertext,hoverinfo:s.hoverinfo,hovertemplate:n({},{keys:c.eventDataKeys}),textfont:l.textfont,insidetextfont:l.insidetextfont,outsidetextfont:u({},l.outsidetextfont,{description:["Sets the font used for `textinfo` lying outside the sector.","This option refers to the root of the hierarchy","presented on top left corner of a treemap graph.","Please note that if a hierarchy has multiple root nodes,","this option won't have any effect and `insidetextfont` would be used."].join(" ")}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right"],dflt:"top left",role:"style",editType:"plot",description:["Sets the positions of the `text` elements."].join(" ")},sort:l.sort,root:s.root,domain:o({name:"treemap",trace:!0,editType:"calc"})}},90554:(e,t,r)=>{"use strict";var n=r(49701);t.name="treemap",t.plot=function(e,r,a,i){n.plotBasePlot(t.name,e,r,a,i)},t.clean=function(e,r,a,i){n.cleanBasePlot(t.name,e,r,a,i)}},2878:(e,t,r)=>{"use strict";var n=r(52025);t.y=function(e,t){return n.calc(e,t)},t.T=function(e){return n._runCrossTraceCalc("treemap",e)}},82785:e=>{"use strict";e.exports={CLICK_TRANSITION_TIME:750,CLICK_TRANSITION_EASING:"poly",eventDataKeys:["currentPath","root","entry","percentRoot","percentEntry","percentParent"],gapWithPathbar:1}},37802:(e,t,r)=>{"use strict";var n=r(95754),a=r(63652),i=r(92665),o=r(5227).c,l=r(90285).handleText,s=r(17759).TEXTPAD,c=r(13879),u=c.hasColorscale,f=c.handleDefaults;e.exports=function(e,t,r,c){function h(r,i){return n.coerce(e,t,a,r,i)}var d=h("labels"),p=h("parents");if(d&&d.length&&p&&p.length){var x=h("values");x&&x.length?h("branchvalues"):h("count"),h("level"),h("maxdepth"),"squarify"===h("tiling.packing")&&h("tiling.squarifyratio"),h("tiling.flip"),h("tiling.pad");var v=h("text");h("texttemplate"),t.texttemplate||h("textinfo",Array.isArray(v)?"text+label":"label"),h("hovertext"),h("hovertemplate");var y=h("pathbar.visible");l(e,t,c,h,"auto",{hasPathbar:y,moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),h("textposition");var m=-1!==t.textposition.indexOf("bottom");h("marker.line.width")&&h("marker.line.color",c.paper_bgcolor);var g=h("marker.colors"),b=t._hasColorscale=u(e,"marker","colors")||(e.marker||{}).coloraxis;b?f(e,t,c,h,{prefix:"marker.",cLetter:"c"}):h("marker.depthfade",!(g||[]).length);var T=2*t.textfont.size;h("marker.pad.t",m?T/4:T),h("marker.pad.l",T/4),h("marker.pad.r",T/4),h("marker.pad.b",m?T:T/4),b&&f(e,t,c,h,{prefix:"marker.",cLetter:"c"}),t._hovered={marker:{line:{width:2,color:i.contrast(c.paper_bgcolor)}}},y&&(h("pathbar.thickness",t.pathbar.textfont.size+2*s),h("pathbar.side"),h("pathbar.edgeshape")),h("sort"),h("root.color"),o(t,c,h),t._length=null}else t.visible=!1}},57086:(e,t,r)=>{"use strict";var n=r(42895),a=r(95754),i=r(14124),o=r(73071),l=r(81469),s=r(97664).styleOne,c=r(82785),u=r(14095),f=r(39580),h=!0;e.exports=function(e,t,r,d,p){var x=p.barDifY,v=p.width,y=p.height,m=p.viewX,g=p.viewY,b=p.pathSlice,T=p.toMoveInsideSlice,_=p.strTransform,w=p.hasTransition,I=p.handleSlicesExit,P=p.makeUpdateSliceInterpolator,S=p.makeUpdateTextInterpolator,k={},L=e._fullLayout,M=t[0],O=M.trace,A=M.hierarchy,C=v/O._entryDepth,E=u.listPath(r.data,"id"),z=l(A.copy(),[v,y],{packing:"dice",pad:{inner:0,top:0,left:0,right:0,bottom:0}}).descendants();(z=z.filter((function(e){var t=E.indexOf(e.data.id);return-1!==t&&(e.x0=C*t,e.x1=C*(t+1),e.y0=x,e.y1=x+y,e.onPathbar=!0,!0)}))).reverse(),(d=d.data(z,u.getPtId)).enter().append("g").classed("pathbar",!0),I(d,h,k,[v,y],b),d.order();var D=d;w&&(D=D.transition().each("end",(function(){var t=n.select(this);u.setSliceCursor(t,e,{hideOnRoot:!1,hideOnLeaves:!1,isTransitioning:!1})}))),D.each((function(l){l._hoverX=m(l.x1-Math.min(v,y)/2),l._hoverY=g(l.y1-y/2);var d=n.select(this),p=a.ensureSingle(d,"path","surface",(function(e){e.style("pointer-events","all")}));w?p.transition().attrTween("d",(function(e){var t=P(e,h,k,[v,y]);return function(e){return b(t(e))}})):p.attr("d",b),d.call(f,r,e,t,{styleOne:s,eventDataKeys:c.eventDataKeys,transitionTime:c.CLICK_TRANSITION_TIME,transitionEasing:c.CLICK_TRANSITION_EASING}).call(u.setSliceCursor,e,{hideOnRoot:!1,hideOnLeaves:!1,isTransitioning:e._transitioning}),p.call(s,l,O,{hovered:!1}),l._text=(u.getPtLabel(l)||"").split("<br>").join(" ")||"";var x=a.ensureSingle(d,"g","slicetext"),I=a.ensureSingle(x,"text","",(function(e){e.attr("data-notex",1)})),M=a.ensureUniformFontSize(e,u.determineTextFont(O,l,L.font,{onPathbar:!0}));I.text(l._text||" ").classed("slicetext",!0).attr("text-anchor","start").call(i.font,M).call(o.convertToTspans,e),l.textBB=i.bBox(I.node()),l.transform=T(l,{fontSize:M.size,onPathbar:!0}),l.transform.fontSize=M.size,w?I.transition().attrTween("transform",(function(e){var t=S(e,h,k,[v,y]);return function(e){return _(t(e))}})):I.attr("transform",_(l))}))}},46681:(e,t,r)=>{"use strict";var n=r(42895),a=r(95754),i=r(14124),o=r(73071),l=r(81469),s=r(97664).styleOne,c=r(82785),u=r(14095),f=r(39580),h=r(79890).formatSliceLabel,d=!1;e.exports=function(e,t,r,p,x){var v=x.width,y=x.height,m=x.viewX,g=x.viewY,b=x.pathSlice,T=x.toMoveInsideSlice,_=x.strTransform,w=x.hasTransition,I=x.handleSlicesExit,P=x.makeUpdateSliceInterpolator,S=x.makeUpdateTextInterpolator,k=x.prevEntry,L=e._fullLayout,M=t[0].trace,O=-1!==M.textposition.indexOf("left"),A=-1!==M.textposition.indexOf("right"),C=-1!==M.textposition.indexOf("bottom"),E=!C&&!M.marker.pad.t||C&&!M.marker.pad.b,z=l(r,[v,y],{packing:M.tiling.packing,squarifyratio:M.tiling.squarifyratio,flipX:M.tiling.flip.indexOf("x")>-1,flipY:M.tiling.flip.indexOf("y")>-1,pad:{inner:M.tiling.pad,top:M.marker.pad.t,left:M.marker.pad.l,right:M.marker.pad.r,bottom:M.marker.pad.b}}).descendants(),D=1/0,R=-1/0;z.forEach((function(e){var t=e.depth;t>=M._maxDepth?(e.x0=e.x1=(e.x0+e.x1)/2,e.y0=e.y1=(e.y0+e.y1)/2):(D=Math.min(D,t),R=Math.max(R,t))})),p=p.data(z,u.getPtId),M._maxVisibleLayers=isFinite(R)?R-D+1:0,p.enter().append("g").classed("slice",!0),I(p,d,{},[v,y],b),p.order();var Y=null;if(w&&k){var X=u.getPtId(k);p.each((function(e){null===Y&&u.getPtId(e)===X&&(Y={x0:e.x0,x1:e.x1,y0:e.y0,y1:e.y1})}))}var j=function(){return Y||{x0:0,x1:v,y0:0,y1:y}},B=p;return w&&(B=B.transition().each("end",(function(){var t=n.select(this);u.setSliceCursor(t,e,{hideOnRoot:!0,hideOnLeaves:!1,isTransitioning:!1})}))),B.each((function(l){var p=u.isHeader(l,M);l._hoverX=m(l.x1-M.marker.pad.r),l._hoverY=g(C?l.y1-M.marker.pad.b/2:l.y0+M.marker.pad.t/2);var x=n.select(this),I=a.ensureSingle(x,"path","surface",(function(e){e.style("pointer-events","all")}));w?I.transition().attrTween("d",(function(e){var t=P(e,d,j(),[v,y]);return function(e){return b(t(e))}})):I.attr("d",b),x.call(f,r,e,t,{styleOne:s,eventDataKeys:c.eventDataKeys,transitionTime:c.CLICK_TRANSITION_TIME,transitionEasing:c.CLICK_TRANSITION_EASING}).call(u.setSliceCursor,e,{isTransitioning:e._transitioning}),I.call(s,l,M,{hovered:!1}),l.x0===l.x1||l.y0===l.y1?l._text="":l._text=p?E?"":u.getPtLabel(l)||"":h(l,r,M,t,L)||"";var k=a.ensureSingle(x,"g","slicetext"),z=a.ensureSingle(k,"text","",(function(e){e.attr("data-notex",1)})),D=a.ensureUniformFontSize(e,u.determineTextFont(M,l,L.font));z.text(l._text||" ").classed("slicetext",!0).attr("text-anchor",A?"end":O||p?"start":"middle").call(i.font,D).call(o.convertToTspans,e),l.textBB=i.bBox(z.node()),l.transform=T(l,{fontSize:D.size,isHeader:p}),l.transform.fontSize=D.size,w?z.transition().attrTween("transform",(function(e){var t=S(e,d,j(),[v,y]);return function(e){return _(t(e))}})):z.attr("transform",_(l))})),Y}},1492:(e,t,r)=>{"use strict";e.exports={moduleType:"trace",name:"treemap",basePlotModule:r(90554),categories:[],animatable:!0,attributes:r(63652),layoutAttributes:r(94773),supplyDefaults:r(37802),supplyLayoutDefaults:r(4694),calc:r(2878).y,crossTraceCalc:r(2878).T,plot:r(17730),style:r(97664).style,colorbar:r(49463),meta:{description:["Visualize hierarchal data from leaves (and/or outer branches) towards root","with rectangles. The treemap sectors are determined by the entries in","*labels* or *ids* and in *parents*."].join(" ")}}},94773:e=>{"use strict";e.exports={treemapcolorway:{valType:"colorlist",role:"style",editType:"calc",description:["Sets the default treemap slice colors. Defaults to the main","`colorway` used for trace colors. If you specify a new","list here it can still be extended with lighter and darker","colors, see `extendtreemapcolors`."].join(" ")},extendtreemapcolors:{valType:"boolean",dflt:!0,role:"style",editType:"calc",description:["If `true`, the treemap slice colors (whether given by `treemapcolorway` or","inherited from `colorway`) will be extended to three times its","original length by first repeating every color 20% lighter then","each color 20% darker. This is intended to reduce the likelihood","of reusing the same color when you have many slices, but you can","set `false` to disable.","Colors provided in the trace, using `marker.colors`, are never","extended."].join(" ")}}},4694:(e,t,r)=>{"use strict";var n=r(95754),a=r(94773);e.exports=function(e,t){function r(r,i){return n.coerce(e,t,a,r,i)}r("treemapcolorway",t.colorway),r("extendtreemapcolors")}},81469:(e,t,r)=>{"use strict";var n=r(74297);function a(e,t,r){var n;r.swapXY&&(n=e.x0,e.x0=e.y0,e.y0=n,n=e.x1,e.x1=e.y1,e.y1=n),r.flipX&&(n=e.x0,e.x0=t[0]-e.x1,e.x1=t[0]-n),r.flipY&&(n=e.y0,e.y0=t[1]-e.y1,e.y1=t[1]-n);var i=e.children;if(i)for(var o=0;o<i.length;o++)a(i[o],t,r)}e.exports=function(e,t,r){var i,o=r.flipX,l=r.flipY,s="dice-slice"===r.packing,c=r.pad[l?"bottom":"top"],u=r.pad[o?"right":"left"],f=r.pad[o?"left":"right"],h=r.pad[l?"top":"bottom"];s&&(i=u,u=c,c=i,i=f,f=h,h=i);var d=n.treemap().tile(function(e,t){switch(e){case"squarify":return n.treemapSquarify.ratio(t);case"binary":return n.treemapBinary;case"dice":return n.treemapDice;case"slice":return n.treemapSlice;default:return n.treemapSliceDice}}(r.packing,r.squarifyratio)).paddingInner(r.pad.inner).paddingLeft(u).paddingRight(f).paddingTop(c).paddingBottom(h).size(s?[t[1],t[0]]:t)(e);return(s||o||l)&&a(d,t,{swapXY:s,flipX:o,flipY:l}),d}},17730:(e,t,r)=>{"use strict";var n=r(42895),a=r(14095),i=r(95754),o=r(17759).TEXTPAD,l=r(7361).toMoveInsideBar,s=r(37299),c=s.recordMinTextSize,u=s.clearMinTextSize,f=r(79438).resizeText,h=r(82785),d=r(46681),p=r(57086);function x(e){return a.isHierarchyRoot(e)?"":a.getPtId(e)}function v(e,t,r,s){var u=e._fullLayout,f=t[0],v=f.trace,y=f.hierarchy,m=a.findEntryWithLevel(y,v.level),g=n.select(r),b=g.selectAll("g.pathbar"),T=g.selectAll("g.slice");if(!m)return b.remove(),void T.remove();var _=a.isHierarchyRoot(m),w=!u.uniformtext.mode&&a.hasTransition(s),I=a.getMaxDepth(v),P=u._size,S=v.domain,k=P.w*(S.x[1]-S.x[0]),L=P.h*(S.y[1]-S.y[0]),M=k,O=v.pathbar.thickness,A=v.marker.line.width+h.gapWithPathbar,C=v.pathbar.visible?v.pathbar.side.indexOf("bottom")>-1?L+A:-(O+A):0,E={x0:M,x1:M,y0:C,y1:C+O},z=function(e,t,r){var n=v.tiling.pad,a=function(e){return e-n<=t.x0},i=function(e){return e+n>=t.x1},o=function(e){return e-n<=t.y0},l=function(e){return e+n>=t.y1};return{x0:a(e.x0-n)?0:i(e.x0-n)?r[0]:e.x0,x1:a(e.x1+n)?0:i(e.x1+n)?r[0]:e.x1,y0:o(e.y0-n)?0:l(e.y0-n)?r[1]:e.y0,y1:o(e.y1+n)?0:l(e.y1+n)?r[1]:e.y1}},D=null,R={},Y={},X=null,j=function(e,t){return t?R[x(e)]:Y[x(e)]},B=function(e,t,r,n){if(t)return R[x(y)]||E;var a=Y[v.level]||r;return function(e){return e.data.depth-m.data.depth<I}(e)?z(e,a,n):{}};f.hasMultipleRoots&&_&&I++,v._maxDepth=I,v._backgroundColor=u.paper_bgcolor,v._entryDepth=m.data.depth,v._atRootLevel=_;var H=-k/2+P.l+P.w*(S.x[1]+S.x[0])/2,K=-L/2+P.t+P.h*(1-(S.y[1]+S.y[0])/2),N=function(e){return H+e},F=function(e){return K+e},V=F(0),q=N(0),U=function(e){return q+e},W=function(e){return V+e};function G(e,t){return e+","+t}var Z=U(0),$=function(e){e.x=Math.max(Z,e.x)},Q=v.pathbar.edgeshape,J=function(e,t){var r=e.x0,n=e.x1,a=e.y0,i=e.y1,s=e.textBB,f=function(e){return-1!==v.textposition.indexOf(e)},h=f("bottom"),d=f("top")||t.isHeader&&!h?"start":h?"end":"middle",p=f("right"),x=f("left")||t.onPathbar?-1:p?1:0,y=v.marker.pad;if(t.isHeader){if((r+=y.l-o)>=(n-=y.r-o)){var m=(r+n)/2;r=m,n=m}var g;h?a<(g=i-y.b)&&g<i&&(a=g):a<(g=a+y.t)&&g<i&&(i=g)}var b=l(r,n,a,i,s,{isHorizontal:!1,constrained:!0,angle:0,anchor:d,leftToRight:x});return b.fontSize=t.fontSize,b.targetX=N(b.targetX),b.targetY=F(b.targetY),isNaN(b.targetX)||isNaN(b.targetY)?{}:(r!==n&&a!==i&&c(v.type,b,u),{scale:b.scale,rotate:b.rotate,textX:b.textX,textY:b.textY,anchorX:b.anchorX,anchorY:b.anchorY,targetX:b.targetX,targetY:b.targetY})},ee=function(e,t){for(var r,n=0,a=e;!r&&n<I;)n++,(a=a.parent)?r=j(a,t):n=I;return r||{}},te=function(e,t,r,a){var o,l=j(e,t);if(l)o=l;else if(t)o=E;else if(D)if(e.parent){var s=X||r;s&&!t?o=z(e,s,a):(o={},i.extendFlat(o,ee(e,t)))}else o=e;else o={};return n.interpolate(o,{x0:e.x0,x1:e.x1,y0:e.y0,y1:e.y1})},re=function(e,t,r,o){var l=j(e,t),s={},f=B(e,t,r,o);i.extendFlat(s,{transform:J({x0:f.x0,x1:f.x1,y0:f.y0,y1:f.y1,textBB:e.textBB,_text:e._text},{isHeader:a.isHeader(e,v)})}),l?s=l:e.parent&&i.extendFlat(s,ee(e,t));var h=e.transform;return e.x0!==e.x1&&e.y0!==e.y1&&c(v.type,h,u),n.interpolate(s,{transform:{scale:h.scale,rotate:h.rotate,textX:h.textX,textY:h.textY,anchorX:h.anchorX,anchorY:h.anchorY,targetX:h.targetX,targetY:h.targetY}})},ne=function(e,t,r,a,i){var o=a[0],l=a[1];w?e.exit().transition().each((function(){var e=n.select(this);e.select("path.surface").transition().attrTween("d",(function(e){var r=function(e,t,r,a){var i,o=j(e,t);if(t)i=E;else{var l=j(m,t);i=l?z(e,l,a):{}}return n.interpolate(o,i)}(e,t,0,[o,l]);return function(e){return i(r(e))}})),e.select("g.slicetext").attr("opacity",0)})).remove():e.exit().remove()},ae=function(e){var t=e.transform;return e.x0!==e.x1&&e.y0!==e.y1&&c(v.type,t,u),i.getTextTransform({textX:t.textX,textY:t.textY,anchorX:t.anchorX,anchorY:t.anchorY,targetX:t.targetX,targetY:t.targetY,scale:t.scale,rotate:t.rotate})};w&&(b.each((function(e){R[x(e)]={x0:e.x0,x1:e.x1,y0:e.y0,y1:e.y1},e.transform&&(R[x(e)].transform={textX:e.transform.textX,textY:e.transform.textY,anchorX:e.transform.anchorX,anchorY:e.transform.anchorY,targetX:e.transform.targetX,targetY:e.transform.targetY,scale:e.transform.scale,rotate:e.transform.rotate})})),T.each((function(e){Y[x(e)]={x0:e.x0,x1:e.x1,y0:e.y0,y1:e.y1},e.transform&&(Y[x(e)].transform={textX:e.transform.textX,textY:e.transform.textY,anchorX:e.transform.anchorX,anchorY:e.transform.anchorY,targetX:e.transform.targetX,targetY:e.transform.targetY,scale:e.transform.scale,rotate:e.transform.rotate}),!D&&a.isEntry(e)&&(D=e)}))),X=d(e,t,m,T,{width:k,height:L,viewX:N,viewY:F,pathSlice:function(e){var t=N(e.x0),r=N(e.x1),n=F(e.y0),a=F(e.y1),i=r-t,o=a-n;if(!i||!o)return"";return"M"+G(t,n+0)+"L"+G(r-0,n)+"L"+G(r,a-0)+"L"+G(t+0,a)+"Z"},toMoveInsideSlice:J,prevEntry:D,makeUpdateSliceInterpolator:te,makeUpdateTextInterpolator:re,handleSlicesExit:ne,hasTransition:w,strTransform:ae}),v.pathbar.visible?p(e,t,m,b,{barDifY:C,width:M,height:O,viewX:U,viewY:W,pathSlice:function(e){var t=U(Math.max(Math.min(e.x0,e.x0),0)),r=U(Math.min(Math.max(e.x1,e.x1),M)),n=W(e.y0),a=W(e.y1),i=O/2,o={},l={};o.x=t,l.x=r,o.y=l.y=(n+a)/2;var s={x:t,y:n},c={x:r,y:n},u={x:r,y:a},f={x:t,y:a};return">"===Q?(s.x-=i,c.x-=i,u.x-=i,f.x-=i):"/"===Q?(u.x-=i,f.x-=i,o.x-=i/2,l.x-=i/2):"\\"===Q?(s.x-=i,c.x-=i,o.x-=i/2,l.x-=i/2):"<"===Q&&(o.x-=i,l.x-=i),$(s),$(f),$(o),$(c),$(u),$(l),"M"+G(s.x,s.y)+"L"+G(c.x,c.y)+"L"+G(l.x,l.y)+"L"+G(u.x,u.y)+"L"+G(f.x,f.y)+"L"+G(o.x,o.y)+"Z"},toMoveInsideSlice:J,makeUpdateSliceInterpolator:te,makeUpdateTextInterpolator:re,handleSlicesExit:ne,hasTransition:w,strTransform:ae}):b.remove()}e.exports=function(e,t,r,i){var o,l,s=e._fullLayout,c=s._treemaplayer,h=!r;(u("treemap",s),(o=c.selectAll("g.trace.treemap").data(t,(function(e){return e[0].trace.uid}))).enter().append("g").classed("trace",!0).classed("treemap",!0),o.order(),!s.uniformtext.mode&&a.hasTransition(r))?(i&&(l=i()),n.transition().duration(r.duration).ease(r.easing).each("end",(function(){l&&l()})).each("interrupt",(function(){l&&l()})).each((function(){c.selectAll("g.trace").each((function(t){v(e,t,this,r)}))}))):(o.each((function(t){v(e,t,this,r)})),s.uniformtext.mode&&f(e,s._treemaplayer.selectAll(".trace"),"treemap"));h&&o.exit().remove()}},97664:(e,t,r)=>{"use strict";var n=r(42895),a=r(92665),i=r(95754),o=r(14095),l=r(37299).resizeText;function s(e,t,r,n){var l,s,c=(n||{}).hovered,u=t.data.data,f=u.i,h=u.color,d=o.isHierarchyRoot(t),p=1;if(c)l=r._hovered.marker.line.color,s=r._hovered.marker.line.width;else if(d&&h===r.root.color)p=100,l="rgba(0,0,0,0)",s=0;else if(l=i.castOption(r,f,"marker.line.color")||a.defaultLine,s=i.castOption(r,f,"marker.line.width")||0,!r._hasColorscale&&!t.onPathbar){var x=r.marker.depthfade;if(x){var v,y=a.combine(a.addOpacity(r._backgroundColor,.75),h);if(!0===x){var m=o.getMaxDepth(r);v=isFinite(m)?o.isLeaf(t)?0:r._maxVisibleLayers-(t.data.depth-r._entryDepth):t.data.height+1}else v=t.data.depth-r._entryDepth,r._atRootLevel||v++;if(v>0)for(var g=0;g<v;g++){var b=.5*g/v;h=a.combine(a.addOpacity(y,b),h)}}}e.style("stroke-width",s).call(a.fill,h).call(a.stroke,l).style("opacity",p)}e.exports={style:function(e){var t=e._fullLayout._treemaplayer.selectAll(".trace");l(e,t,"treemap"),t.each((function(e){var t=n.select(this),r=e[0].trace;t.style("opacity",r.opacity),t.selectAll("path.surface").each((function(e){n.select(this).call(s,e,r,{hovered:!1})}))}))},styleOne:s}}}]);